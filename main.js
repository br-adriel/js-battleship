(()=>{"use strict";var e={280:(e,t,n)=>{e.exports=n.p+"2b4e552d83cdc58a824c.mp3"},304:(e,t,n)=>{e.exports=n.p+"9cb6424a07bef6cb2fca.mp3"},447:(e,t,n)=>{e.exports=n.p+"6f5854be22a9c6731035.mp3"},22:(e,t,n)=>{e.exports=n.p+"5708759fa80a68425065.mp3"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e={carregarFooter(){const e=new Date;document.getElementById("footer-p").innerText=`Adriel Faria, ${e.getFullYear()}`}},t=function(e){const t=document.querySelector("main");t.hasChildNodes()&&t.removeChild(t.childNodes[0]),t.appendChild(e)},o=function(e,t="",n=[]){const o=document.createElement(e);return o.id=t,o.classList.add(...n),o},i=function(e,t,n=[]){const i=o("label");i.innerText=e,i.setAttribute("for",t);const r=o("input",t);n.forEach((e=>{r.setAttribute(e[0],e[1])}));const a=o("div","",["campo-form"]);return a.appendChild(i),a.appendChild(r),a},r=function(e="Player",t=!1){let n;const o={},i=[];function r(e=0,t=9){return Math.floor(Math.random()*(t+1-e))+e}function a(){return[r(),r()]}function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function d(e,t=[0,9]){return e>=t[0]&&e<=t[1]}return t?(n="code",o.makeMove=function e(t=!1,n=!1,o=!1){if(t){let t;t=n?0:o?1:r(0,1);const a=i[i.length-1];let c=a[0],l=a[1];const p=r(0,1);return 1===t?(l+=p?1:-1,!d(l)||i.some((e=>s(e,[c,l])))?(l-=p?2:-2,!d(l)||i.some((e=>s(e,[c,l])))?o?e():e(!0,!0,!1):(i.push([c,l]),[c,l])):(i.push([c,l]),[c,l])):(c+=p?1:-1,!d(c)||i.some((e=>s(e,[c,l])))?(c-=p?2:-2,!d(c)||i.some((e=>s(e,[c,l])))?n?e():e(!0,!1,!0):(i.push([c,l]),[c,l])):(i.push([c,l]),[c,l]))}let c=a();for(;i.some((e=>s(e,c)));)c=a();return i.push(c),c}):n="human",o.name=e,o.randCoordinates=a,Object.defineProperties(o,{type:{get:()=>n}}),o},a=function(){let e;function t(){e=[];for(let t=0;t<10;t+=1){const t=[];for(let e=0;e<10;e+=1){const e={ship:{},shipPosition:-1,hasShip:!1,attacked:!1,hit:!1};t.push(e)}e.push(t)}}return t(),{addShip:function(t,n,o){const i=n[0],r=n[1];if(o){if(t.length-1+r>9)throw new Error("The ship exceeds the length of the board")}else if(t.length-1+i>9)throw new Error("The ship exceeds the height of the board");for(let n=0;n<t.length;n+=1)if(o){if(e[i][r+n].hasShip)throw new Error("There's already a ship placed on this space")}else if(e[i+n][r].hasShip)throw new Error("There's already a ship placed on this space");for(let n=0;n<t.length;n+=1){const a=n;o?(e[i][r+n].hasShip=!0,e[i][r+n].ship=t,e[i][r+n].shipPosition=a):(e[i+n][r].hasShip=!0,e[i+n][r].ship=t,e[i+n][r].shipPosition=a)}return!0},board:function(){return[...e]},clear:t,receiveAttack:function(t){const n=t[0],o=t[1];if(e[n][o].attacked)return"already attacked";const i=e[n][o].shipPosition;return e[n][o].attacked=!0,e[n][o].hasShip?(e[n][o].hit=!0,e[n][o].ship.hit(i),"hit"):"miss"},allShipsSunked:function(){for(let t=0;t<10;t+=1){const n=t;for(let t=0;t<10;t+=1){const o=t;if(e[n][o].hasShip&&!e[n][o].attacked)return!1}}return!0}}},s=function(e=1,t=""){if(Number.isNaN(e))throw new Error("The size of the shit must be an integer");if(e<1)throw new Error("Ships must have a size of at least 1");if(!Number.isInteger(e))throw new Error("The size of the shit must be an integer");let n=!1;const o=e,i=[];for(let t=0;t<e;t+=1)i.push(!0);return{name:t,length:o,hit:function(e){if(e<0||e>o-1)throw new Error("'position' must be a number from 0 up to the ship size");if(i[e]){i[e]=!1,n=!0;for(let e=0;e<o;e+=1)i[e]&&(n=!1);return!0}return!1},isSunk:function(){return n},sections:function(){return[...i]}}};function d(e,t,n,i){let r;if(void 0!==e[t]&&e[t][n].attacked)if(e[t][n].hit)r=o("div","",["acerto"]),r.innerText=e[t][n].ship.length;else{const e=o("i","",["fa-solid","fa-bomb"]);r=o("div","",["erro"]),r.appendChild(e)}else r=o("div",`${i}-${t}-${n}`);return r}const c=function(e,t=[]){const n=["A","B","C","D","E","F","G","H","I","J"],i=o("div","",["tabuleiro"]);for(let e=0;e<=10;e+=1){const t=o("p");0!==e&&(t.innerText=e),i.appendChild(t)}for(let r=0;r<10;r+=1){const a=o("p"),s=r;a.innerText=n[s],i.appendChild(a);for(let n=0;n<10;n+=1){let r;const a=n;r=0!==t.length?d(t,s,a,e):o("div",`${e}-${s}-${a}`),i.appendChild(r)}}return i},l=function(e,n){const i=o("h2");i.innerText=`Passe o dispositivo para ${e}`;const r=o("p");r.innerText="Agora é a vez de seu oponente";const a=o("button");a.innerText="Continuar",a.addEventListener("click",(()=>{t(n)}));const s=o("section","tela-prox-jog");return s.appendChild(i),s.appendChild(r),s.appendChild(a),s};var p=n(304),h=n(280),u=n(447);const m=function(e){const n=o("h2");n.innerText=`${e} venceu!`;const i=o("button");i.innerText="Jogar de novo",i.addEventListener("click",(()=>{t(g())}));const r=o("section","tela-vencedor");return r.appendChild(n),r.appendChild(i),r},f=function e(n,i,r=!1){let a=!1;const s=c("tabOponente",i[1].board()),d=c("tabPessoal",i[0].board()),f=o("section","tela-jogar"),v=o("div","",["info"]);function C(o,r){let a;o?a=e(n,i,r):(a=e(n.reverse(),i.reverse()),a=l(n[0].name,a)),t(a)}const b=o("button");b.innerText="Continuar";const g=o("h2");g.innerText=`Faça uma jogada, ${n[0].name}`,v.appendChild(g);const x=o("p");x.innerText="Atire no seu oponente:";const T=o("p");T.innerText="A situação do seu tabuleiro:";const y=o("div","",["div-tab"]);y.appendChild(x),y.appendChild(s);const E=o("div","",["div-tab"]);return E.appendChild(T),E.appendChild(d),s.addEventListener("click",(e=>{const t=e.target.id.split("-");if(3===t.length&&!a){a=!0,new Audio(p).play();const s=i[1].board(),d=Number(t[1]),l=Number(t[2]);let f;const x=i[1].receiveAttack([d,l]);if("hit"===x?(e.target.classList.add("acerto"),e.target.innerText=s[d][l].ship.length):"miss"===x&&(f=o("i","",["fa-solid","fa-bomb"]),e.target.classList.add("erro"),e.target.appendChild(f)),i[1].allShipsSunked())v.appendChild(m(n[0].name)),v.removeChild(g),E.removeChild(E.childNodes[1]),E.appendChild(c("tabOponente",i[0].board())),new Audio(h).play();else if("code"===n[1].type){const e=n[1].makeMove(r,!1,!1);"hit"===i[0].receiveAttack(e)?i[0].allShipsSunked()?(v.removeChild(g),v.appendChild(m(n[1].name)),E.removeChild(E.childNodes[1]),E.appendChild(c("tabOponente",i[0].board())),new Audio(u).play()):C(!0,!0):C(!0,!1)}else b.addEventListener("click",(()=>C(!1,!1))),v.appendChild(b)}})),f.appendChild(v),f.appendChild(y),f.appendChild(E),f},v=["A","B","C","D","E","F","G","H","I","J"],C=function e(n=[],r=[]){const d=a();let p=a();const h=[s(5,"porta-aviões"),s(4,"navio de guerra"),s(3,"cruzador"),s(2,"destruidor"),s(1,"submarino")];let u=0;"code"===n[1].type&&(p=function(e,t){let n=0;for(;e.length>n;){const o=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),r=Math.floor(2*Math.random());try{t.addShip(e[n],[o,i],r),n+=1}catch(e){}}return t}(h,p));const m=c("tab1"),C=o("h2");C.innerText=n[0].name;const b=o("p");b.innerText="Posicione suas embarcações";const g=function(){const e=o("div","",["erros-msgs"]);return{elemento:e,novaMensagem:function(t=""){const n=o("p");n.innerText=t;const i=o("div","",["mensagem"]),r=o("i","",["fa-solid","fa-xmark"]);r.addEventListener("click",(()=>{e.removeChild(i),e.hasChildNodes()||(e.style.display="none")})),i.appendChild(n),i.appendChild(r),e.appendChild(i),e.style.display="flex"}}}(),x=o("p","",["embarcacao"]);x.innerText=`${h[u].name.toUpperCase()} (tamanho ${h[u].length})`;const T=function(){const e=i("Linha (A-J):","linhaInput",[["required","true"],["maxlength","1"],["pattern","[a-jA-J]"],["name","linha"]]),t=i("Coluna (1-10):","colunaInput",[["type","tel"],["required","true"],["maxlength","2"],["pattern","^([1-9]|10)$"],["name","coluna"]]),n=o("input");n.setAttribute("type","checkbox"),n.setAttribute("name","vertical"),n.id="inputVertical";const r=o("label");r.innerText="Posicionar verticalmente",r.setAttribute("for","inputVertical");const a=o("div","",["input-check"]);a.appendChild(n),a.appendChild(r);const s=o("button");s.innerText="Adicionar",s.setAttribute("type","submit");const d=o("form");return d.appendChild(e),d.appendChild(t),d.appendChild(a),d.appendChild(s),d}(),y=o("div","",["adicionar-barco"]),E=o("button");E.innerText="Continuar",E.addEventListener("click",(()=>{if("code"===n[1].type)r.push(d),r.push(p),t(f(n,r));else if(r.push(d),2===r.length){const e=f(n.reverse(),r.reverse());t(l(n[0].name,e))}else{const o=e(n.reverse(),r);t(l(n[0].name,o))}})),T.addEventListener("submit",(e=>{e.preventDefault();try{const e=v.indexOf(T.linha.value.toUpperCase()),t=Number(T.coluna.value)-1,n=!T.vertical.checked;d.addShip(h[u],[e,t],n),T.reset(),T.linha.focus();for(let o=0;o<h[u].length;o+=1){let i;i=n?document.getElementById(`tab1-${e}-${t+o}`):document.getElementById(`tab1-${e+o}-${t}`),i.classList.add("barco"),i.innerText=h[u].length}u+=1,h.length<=u?(y.removeChild(y.childNodes[4]),y.removeChild(y.childNodes[3]),y.removeChild(y.childNodes[2]),y.removeChild(y.childNodes[1]),y.appendChild(E)):x.innerText=`${h[u].name.toUpperCase()} (tamanho ${h[u].length})`}catch(e){/exceeds the length/g.test(e)?g.novaMensagem("A embarcação extrapola a largura do tabuleiro"):/exceeds the height/g.test(e)?g.novaMensagem("A embarcação extrapola a altura do tabuleiro"):/already a ship/g.test(e)?g.novaMensagem("Já há uma embarcação onde você está tentando posicionar"):g.novaMensagem("Um erro ocorreu")}})),y.appendChild(C),y.appendChild(b),y.appendChild(g.elemento),y.appendChild(x),y.appendChild(T);const k=o("section","tela-posicionar");return k.appendChild(y),k.appendChild(m),k};const b=function(e=!1){let n;n=function(e,n){const a=i("Informe seu nome:","inputNome",[["type","text"],["name","nome"],["minlength","3"],["required","true"]]),s=o("button");s.setAttribute("type","submit"),s.innerText="Salvar";const d=o("form");if(d.appendChild(a),n){const e=i("Informe o nome de seu oponente:","inputNome2",[["type","text"],["name","nome2"],["minlength","3"],["required","true"]]);d.appendChild(e)}d.appendChild(s),d.addEventListener("submit",(e=>{e.preventDefault();const o=r(d.nome.value,!1);let i;i=n?r(d.nome2.value,!1):r("Computador",!0),t(C([o,i],[]))}));const c=o("h3");c.innerText=e;const l=o("div","",["form-jogador"]);return l.appendChild(c),l.appendChild(d),l}(e?"Como devo lhes chamar, marujos?":"Como devo lhe chamar, marujo?",e);const a=o("section","tela-participantes");return a.appendChild(n),a},g=function(){const e=document.createElement("h2");e.innerText="Olá marujo, contra quem deseja batalhar?";const n=o("p");n.innerText="Computador";const i=o("p");i.innerText="Outro marujo";const r=o("i","",["fa-solid","fa-robot"]),a=o("i","",["fa-solid","fa-anchor"]),s=o("button","",["escolha"]);s.appendChild(r),s.appendChild(n),s.addEventListener("click",(()=>{t(b(!1))}));const d=o("button","",["escolha"]);d.appendChild(a),d.appendChild(i),d.addEventListener("click",(()=>{t(b(!0))}));const c=o("div","",["escolhas"]);c.appendChild(s),c.appendChild(d);const l=o("div","",["pergunta"]);l.appendChild(e),l.appendChild(c);const p=o("section","boas-vindas");return p.appendChild(l),p};var x=n(22);const T=new Audio(x);T.loop=!0,T.play();const y=document.getElementById("btnSound");y.addEventListener("click",(()=>{let e;y.classList.contains("tocando")?(T.pause(),e=o("i","",["fa-solid","fa-volume-xmark"])):(T.play(),e=o("i","",["fa-solid","fa-volume-high"])),y.classList.toggle("tocando"),y.removeChild(y.childNodes[0]),y.appendChild(e)})),t(g()),e.carregarFooter()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxVQUFVbUssT0FBTyxXQUMxQkgsRUFBU3ZLLFlBQVl1SyxFQUFTdEssV0FBVyxJQUN6Q3NLLEVBQVNySyxZQUFZNkUsTUFHdkIsRUFBWSxLQUVaLG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3VpL2Zvb3Rlci5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3V0aWxpZGFkZXMvbW9zdHJhclRlbGEuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91dGlsaWRhZGVzL25vdm9FbGVtZW50by5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3V0aWxpZGFkZXMvbm92b0NhbXBvRm9ybS5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvR2FtZWJvYXJkLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL1NoaXAuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90YWJ1bGVpcm9IdG1sLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYVByb3hKb2dhZG9yLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYVZlbmNlZG9yLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYUpvZ2FyLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYVBvc2ljaW9uYXJCYXJjb3MuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS9FcnJvcy5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3VpL2Zvcm1Qb3NpY2FvLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYUpvZ2Fkb3Jlcy5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3VpL3RlbGFJbmljaW8uanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImNvbnN0IEZvb3RlciA9IHtcclxuICBjYXJyZWdhckZvb3RlcigpIHtcclxuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdGVyLXBcIik7XHJcbiAgICBwLmlubmVyVGV4dCA9IGBBZHJpZWwgRmFyaWEsICR7ZC5nZXRGdWxsWWVhcigpfWA7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjtcclxuIiwiZnVuY3Rpb24gbW9zdHJhclRlbGEodGVsYSkge1xyXG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKTtcclxuICBpZiAobWFpbi5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5jaGlsZE5vZGVzWzBdKTtcclxuICB9XHJcbiAgbWFpbi5hcHBlbmRDaGlsZCh0ZWxhKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9zdHJhclRlbGE7XHJcbiIsImZ1bmN0aW9uIG5vdm9FbGVtZW50byh0YWcsIGlkID0gXCJcIiwgY2xhc3NlcyA9IFtdKSB7XHJcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICBlLmlkID0gaWQ7XHJcbiAgZS5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xyXG4gIHJldHVybiBlO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBub3ZvRWxlbWVudG87XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4vbm92b0VsZW1lbnRvXCI7XHJcblxyXG5mdW5jdGlvbiBub3ZvQ2FtcG9Gb3JtKGxhYmVsVGV4dCwgaWQsIGF0cmlidXRvcyA9IFtdKSB7XHJcbiAgY29uc3QgbGFiZWwgPSBub3ZvRWxlbWVudG8oXCJsYWJlbFwiKTtcclxuICBsYWJlbC5pbm5lclRleHQgPSBsYWJlbFRleHQ7XHJcbiAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIGlkKTtcclxuXHJcbiAgY29uc3QgaW5wdXQgPSBub3ZvRWxlbWVudG8oXCJpbnB1dFwiLCBpZCk7XHJcbiAgYXRyaWJ1dG9zLmZvckVhY2goKGF0cmlidXRvKSA9PiB7XHJcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoYXRyaWJ1dG9bMF0sIGF0cmlidXRvWzFdKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY2FtcG8gPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiY2FtcG8tZm9ybVwiXSk7XHJcbiAgY2FtcG8uYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIGNhbXBvLmFwcGVuZENoaWxkKGlucHV0KTtcclxuICByZXR1cm4gY2FtcG87XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5vdm9DYW1wb0Zvcm07XHJcbiIsImZ1bmN0aW9uIFBsYXllcihuYW1lID0gXCJQbGF5ZXJcIiwgY29tcHV0ZXIgPSBmYWxzZSkge1xyXG4gIGxldCB0eXBlO1xyXG4gIGNvbnN0IHBsYXllck9iaiA9IHt9O1xyXG4gIGNvbnN0IHVzZWRDb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICBmdW5jdGlvbiByYW5kTnVtYmVyKG1pbiA9IDAsIG1heCA9IDkpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4ICsgMSAtIG1pbikpICsgbWluO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmFuZENvb3JkaW5hdGVzKCkge1xyXG4gICAgY29uc3QgeCA9IHJhbmROdW1iZXIoKTtcclxuICAgIGNvbnN0IHkgPSByYW5kTnVtYmVyKCk7XHJcbiAgICByZXR1cm4gW3gsIHldO1xyXG4gIH1cclxuXHJcbiAgLy8gdGVycG9uc2libGUgZm9yIGNoZWNraW5nIGlmIHBhaXIgb2YgY29vcmRpbmF0ZXMgYXJlIGVxdWFsXHJcbiAgZnVuY3Rpb24gZXF1YWxDb29ycyhhLCBiKSB7XHJcbiAgICBpZiAoYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5SYW5nZSh4LCByYW5nZSA9IFswLCA5XSkge1xyXG4gICAgaWYgKHggPj0gcmFuZ2VbMF0gJiYgeCA8PSByYW5nZVsxXSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG1ha2VNb3ZlKGxhc3RXYXNIaXQgPSBmYWxzZSwgdHJpZWRYID0gZmFsc2UsIHRyaWVkWSA9IGZhbHNlKSB7XHJcbiAgICBpZiAobGFzdFdhc0hpdCkge1xyXG4gICAgICAvLyBkZXRlcm1pbmUgaWYgaXQgd2lsbCBzaG9vdCBvbiB4IG9yIHkgYXhpc1xyXG4gICAgICBsZXQgeEF4aXM7XHJcbiAgICAgIGlmICh0cmllZFgpIHtcclxuICAgICAgICB4QXhpcyA9IDA7XHJcbiAgICAgIH0gZWxzZSBpZiAodHJpZWRZKSB7XHJcbiAgICAgICAgeEF4aXMgPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhBeGlzID0gcmFuZE51bWJlcigwLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gbGFzdCBjb29yZGluYXRlcyB3aGljaCB3ZXJlIGEgaGl0XHJcbiAgICAgIGNvbnN0IGxhc3RDb29ycyA9IHVzZWRDb29yZGluYXRlc1t1c2VkQ29vcmRpbmF0ZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgIGxldCB4ID0gbGFzdENvb3JzWzBdO1xyXG4gICAgICBsZXQgeSA9IGxhc3RDb29yc1sxXTtcclxuXHJcbiAgICAgIC8vIGRldGVybWluZSBpZiBpdCB3aWxsIGZpcnN0IHRyeSB0byBhZGQgb3Igc3VidHJhY3RcclxuICAgICAgY29uc3QgYWRkID0gcmFuZE51bWJlcigwLCAxKTtcclxuXHJcbiAgICAgIC8vIHkgY2hhbmdlcywgeCBzdGF5cyB0aGUgc2FtZVxyXG4gICAgICBpZiAoeEF4aXMgPT09IDEpIHtcclxuICAgICAgICB5ICs9IGFkZCA/IDEgOiAtMTtcclxuICAgICAgICBpZiAoIWluUmFuZ2UoeSkgfHwgdXNlZENvb3JkaW5hdGVzLnNvbWUoKGMpID0+IGVxdWFsQ29vcnMoYywgW3gsIHldKSkpIHtcclxuICAgICAgICAgIHkgLT0gYWRkID8gMiA6IC0yO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhaW5SYW5nZSh5KSB8fFxyXG4gICAgICAgICAgICB1c2VkQ29vcmRpbmF0ZXMuc29tZSgoYykgPT4gZXF1YWxDb29ycyhjLCBbeCwgeV0pKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmllZFkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbWFrZU1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFrZU1vdmUodHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdXNlZENvb3JkaW5hdGVzLnB1c2goW3gsIHldKTtcclxuICAgICAgICAgIHJldHVybiBbeCwgeV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZWRDb29yZGluYXRlcy5wdXNoKFt4LCB5XSk7XHJcbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geCBjaGFuZ2VzLCB5IHN0YXlzIHRoZSBzYW1lXHJcbiAgICAgIHggKz0gYWRkID8gMSA6IC0xO1xyXG4gICAgICBpZiAoIWluUmFuZ2UoeCkgfHwgdXNlZENvb3JkaW5hdGVzLnNvbWUoKGMpID0+IGVxdWFsQ29vcnMoYywgW3gsIHldKSkpIHtcclxuICAgICAgICB4IC09IGFkZCA/IDIgOiAtMjtcclxuICAgICAgICBpZiAoIWluUmFuZ2UoeCkgfHwgdXNlZENvb3JkaW5hdGVzLnNvbWUoKGMpID0+IGVxdWFsQ29vcnMoYywgW3gsIHldKSkpIHtcclxuICAgICAgICAgIGlmICh0cmllZFgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1ha2VNb3ZlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbWFrZU1vdmUodHJ1ZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VkQ29vcmRpbmF0ZXMucHVzaChbeCwgeV0pO1xyXG4gICAgICAgIHJldHVybiBbeCwgeV07XHJcbiAgICAgIH1cclxuICAgICAgdXNlZENvb3JkaW5hdGVzLnB1c2goW3gsIHldKTtcclxuICAgICAgcmV0dXJuIFt4LCB5XTtcclxuICAgIH1cclxuICAgIGxldCBjb29ycyA9IHJhbmRDb29yZGluYXRlcygpO1xyXG5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb29wLWZ1bmNcclxuICAgIHdoaWxlICh1c2VkQ29vcmRpbmF0ZXMuc29tZSgoYykgPT4gZXF1YWxDb29ycyhjLCBjb29ycykpKSB7XHJcbiAgICAgIGNvb3JzID0gcmFuZENvb3JkaW5hdGVzKCk7XHJcbiAgICB9XHJcbiAgICB1c2VkQ29vcmRpbmF0ZXMucHVzaChjb29ycyk7XHJcbiAgICByZXR1cm4gY29vcnM7XHJcbiAgfVxyXG5cclxuICBpZiAoY29tcHV0ZXIpIHtcclxuICAgIHR5cGUgPSBcImNvZGVcIjtcclxuICAgIHBsYXllck9iai5tYWtlTW92ZSA9IG1ha2VNb3ZlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0eXBlID0gXCJodW1hblwiO1xyXG4gIH1cclxuXHJcbiAgcGxheWVyT2JqLm5hbWUgPSBuYW1lO1xyXG4gIHBsYXllck9iai5yYW5kQ29vcmRpbmF0ZXMgPSByYW5kQ29vcmRpbmF0ZXM7XHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGxheWVyT2JqLCB7XHJcbiAgICB0eXBlOiB7IGdldDogKCkgPT4gdHlwZSB9LFxyXG4gIH0pO1xyXG4gIHJldHVybiBwbGF5ZXJPYmo7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcclxuIiwiZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xyXG4gIGxldCBnYW1lYm9hcmQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgZ2FtZWJvYXJkID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHtcclxuICAgICAgICAgIHNoaXA6IHt9LFxyXG4gICAgICAgICAgc2hpcFBvc2l0aW9uOiAtMSxcclxuICAgICAgICAgIGhhc1NoaXA6IGZhbHNlLFxyXG4gICAgICAgICAgYXR0YWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgaGl0OiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFyci5wdXNoKG9iaik7XHJcbiAgICAgIH1cclxuICAgICAgZ2FtZWJvYXJkLnB1c2goYXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGluaXRpYWxpemUgZ2FtZWJvYXJkXHJcbiAgY2xlYXIoKTtcclxuXHJcbiAgZnVuY3Rpb24gYWRkU2hpcChzaGlwLCBjb29yZGluYXRlcywgaG9yaXpvbnRhbGx5KSB7XHJcbiAgICBjb25zdCB4ID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICBjb25zdCB5ID0gY29vcmRpbmF0ZXNbMV07XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgc2hpcCBkb2Vzbid0IGZpdFxyXG4gICAgaWYgKGhvcml6b250YWxseSkge1xyXG4gICAgICBpZiAoc2hpcC5sZW5ndGggLSAxICsgeSA+IDkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2hpcCBleGNlZWRzIHRoZSBsZW5ndGggb2YgdGhlIGJvYXJkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHNoaXAubGVuZ3RoIC0gMSArIHggPiA5KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzaGlwIGV4Y2VlZHMgdGhlIGhlaWdodCBvZiB0aGUgYm9hcmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGEgaGlwIGluIHRoZSBzcGFjZVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIGlmIChob3Jpem9udGFsbHkpIHtcclxuICAgICAgICBpZiAoZ2FtZWJvYXJkW3hdW3kgKyBpXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSdzIGFscmVhZHkgYSBzaGlwIHBsYWNlZCBvbiB0aGlzIHNwYWNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChnYW1lYm9hcmRbeCArIGldW3ldLmhhc1NoaXApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSdzIGFscmVhZHkgYSBzaGlwIHBsYWNlZCBvbiB0aGlzIHNwYWNlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYWRkIHNoaXBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBwID0gaTtcclxuICAgICAgaWYgKGhvcml6b250YWxseSkge1xyXG4gICAgICAgIGdhbWVib2FyZFt4XVt5ICsgaV0uaGFzU2hpcCA9IHRydWU7XHJcbiAgICAgICAgZ2FtZWJvYXJkW3hdW3kgKyBpXS5zaGlwID0gc2hpcDtcclxuICAgICAgICBnYW1lYm9hcmRbeF1beSArIGldLnNoaXBQb3NpdGlvbiA9IHA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZ2FtZWJvYXJkW3ggKyBpXVt5XS5oYXNTaGlwID0gdHJ1ZTtcclxuICAgICAgICBnYW1lYm9hcmRbeCArIGldW3ldLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIGdhbWVib2FyZFt4ICsgaV1beV0uc2hpcFBvc2l0aW9uID0gcDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYm9hcmQoKSB7XHJcbiAgICByZXR1cm4gWy4uLmdhbWVib2FyZF07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKSB7XHJcbiAgICBjb25zdCB4ID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICBjb25zdCB5ID0gY29vcmRpbmF0ZXNbMV07XHJcblxyXG4gICAgaWYgKGdhbWVib2FyZFt4XVt5XS5hdHRhY2tlZCkge1xyXG4gICAgICByZXR1cm4gXCJhbHJlYWR5IGF0dGFja2VkXCI7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3AgPSBnYW1lYm9hcmRbeF1beV0uc2hpcFBvc2l0aW9uO1xyXG4gICAgZ2FtZWJvYXJkW3hdW3ldLmF0dGFja2VkID0gdHJ1ZTtcclxuICAgIGlmIChnYW1lYm9hcmRbeF1beV0uaGFzU2hpcCkge1xyXG4gICAgICBnYW1lYm9hcmRbeF1beV0uaGl0ID0gdHJ1ZTtcclxuICAgICAgZ2FtZWJvYXJkW3hdW3ldLnNoaXAuaGl0KHNwKTtcclxuICAgICAgcmV0dXJuIFwiaGl0XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJtaXNzXCI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhbGxTaGlwc1N1bmtlZCgpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCB4ID0gaTtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgeSA9IGo7XHJcbiAgICAgICAgaWYgKGdhbWVib2FyZFt4XVt5XS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICBpZiAoIWdhbWVib2FyZFt4XVt5XS5hdHRhY2tlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IGFkZFNoaXAsIGJvYXJkLCBjbGVhciwgcmVjZWl2ZUF0dGFjaywgYWxsU2hpcHNTdW5rZWQgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkO1xyXG4iLCJmdW5jdGlvbiBTaGlwKHNpemUgPSAxLCBuYW1lID0gXCJcIikge1xyXG4gIGlmIChOdW1iZXIuaXNOYU4oc2l6ZSkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzaXplIG9mIHRoZSBzaGl0IG11c3QgYmUgYW4gaW50ZWdlclwiKTtcclxuICB9IGVsc2UgaWYgKHNpemUgPCAxKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGlwcyBtdXN0IGhhdmUgYSBzaXplIG9mIGF0IGxlYXN0IDFcIik7XHJcbiAgfSBlbHNlIGlmICghTnVtYmVyLmlzSW50ZWdlcihzaXplKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNpemUgb2YgdGhlIHNoaXQgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO1xyXG4gIH1cclxuXHJcbiAgbGV0IHN1bmsgPSBmYWxzZTtcclxuICBjb25zdCBsZW5ndGggPSBzaXplO1xyXG4gIGNvbnN0IHNlY3Rpb25zQWN0aXZlID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XHJcbiAgICBzZWN0aW9uc0FjdGl2ZS5wdXNoKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGl0KHBvc2l0aW9uKSB7XHJcbiAgICBpZiAocG9zaXRpb24gPCAwIHx8IHBvc2l0aW9uID4gbGVuZ3RoIC0gMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncG9zaXRpb24nIG11c3QgYmUgYSBudW1iZXIgZnJvbSAwIHVwIHRvIHRoZSBzaGlwIHNpemVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlY3Rpb25zQWN0aXZlW3Bvc2l0aW9uXSkge1xyXG4gICAgICBzZWN0aW9uc0FjdGl2ZVtwb3NpdGlvbl0gPSBmYWxzZTtcclxuICAgICAgc3VuayA9IHRydWU7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICBpZiAoc2VjdGlvbnNBY3RpdmVbaV0pIHtcclxuICAgICAgICAgIHN1bmsgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1N1bmsoKSB7XHJcbiAgICByZXR1cm4gc3VuaztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNlY3Rpb25zKCkge1xyXG4gICAgcmV0dXJuIFsuLi5zZWN0aW9uc0FjdGl2ZV07XHJcbiAgfVxyXG4gIHJldHVybiB7IG5hbWUsIGxlbmd0aCwgaGl0LCBpc1N1bmssIHNlY3Rpb25zIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoaXA7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcblxyXG5mdW5jdGlvbiBjb250ZXVkb0Rpdihib2FyZCwgeCwgeSwgdGFiSWQpIHtcclxuICBsZXQgZGl2O1xyXG5cclxuICBpZiAoYm9hcmRbeF0gIT09IHVuZGVmaW5lZCAmJiBib2FyZFt4XVt5XS5hdHRhY2tlZCkge1xyXG4gICAgaWYgKGJvYXJkW3hdW3ldLmhpdCkge1xyXG4gICAgICBkaXYgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiYWNlcnRvXCJdKTtcclxuICAgICAgZGl2LmlubmVyVGV4dCA9IGJvYXJkW3hdW3ldLnNoaXAubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgaWNvbmUgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEtYm9tYlwiXSk7XHJcblxyXG4gICAgICBkaXYgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiZXJyb1wiXSk7XHJcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChpY29uZSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGRpdiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBgJHt0YWJJZH0tJHt4fS0ke3l9YCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGl2O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWJ1bGVpcm9IdG1sKHRhYklkLCBib2FyZCA9IFtdKSB7XHJcbiAgY29uc3QgbGluaGFzID0gW1wiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiLCBcIkVcIiwgXCJGXCIsIFwiR1wiLCBcIkhcIiwgXCJJXCIsIFwiSlwiXTtcclxuICBjb25zdCB0YWJ1bGVpcm8gPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1widGFidWxlaXJvXCJdKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcCA9IG5vdm9FbGVtZW50byhcInBcIik7XHJcbiAgICBpZiAoaSAhPT0gMCkge1xyXG4gICAgICBwLmlubmVyVGV4dCA9IGk7XHJcbiAgICB9XHJcbiAgICB0YWJ1bGVpcm8uYXBwZW5kQ2hpbGQocCk7XHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcclxuICAgIGNvbnN0IHAgPSBub3ZvRWxlbWVudG8oXCJwXCIpO1xyXG4gICAgY29uc3QgeCA9IGk7XHJcbiAgICBwLmlubmVyVGV4dCA9IGxpbmhhc1t4XTtcclxuICAgIHRhYnVsZWlyby5hcHBlbmRDaGlsZChwKTtcclxuXHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcclxuICAgICAgbGV0IGRpdjtcclxuICAgICAgY29uc3QgeSA9IGo7XHJcbiAgICAgIGlmIChib2FyZC5sZW5ndGggIT09IDApIHtcclxuICAgICAgICBkaXYgPSBjb250ZXVkb0Rpdihib2FyZCwgeCwgeSwgdGFiSWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpdiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBgJHt0YWJJZH0tJHt4fS0ke3l9YCk7XHJcbiAgICAgIH1cclxuICAgICAgdGFidWxlaXJvLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGFidWxlaXJvO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0YWJ1bGVpcm9IdG1sO1xyXG4iLCJpbXBvcnQgbm92b0VsZW1lbnRvIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9FbGVtZW50b1wiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4uL3V0aWxpZGFkZXMvbW9zdHJhclRlbGFcIjtcclxuaW1wb3J0IFwiLi90ZWxhUHJveEpvZ2Fkb3Iuc2Nzc1wiO1xyXG5cclxuZnVuY3Rpb24gdGVsYVByb3hKb2dhZG9yKG5vbWVQcm94LCBwcm94VGVsYSkge1xyXG4gIGNvbnN0IGgyID0gbm92b0VsZW1lbnRvKFwiaDJcIik7XHJcbiAgaDIuaW5uZXJUZXh0ID0gYFBhc3NlIG8gZGlzcG9zaXRpdm8gcGFyYSAke25vbWVQcm94fWA7XHJcblxyXG4gIGNvbnN0IHAgPSBub3ZvRWxlbWVudG8oXCJwXCIpO1xyXG4gIHAuaW5uZXJUZXh0ID0gXCJBZ29yYSDDqSBhIHZleiBkZSBzZXUgb3BvbmVudGVcIjtcclxuXHJcbiAgY29uc3QgYnRuQ29udGludWFyID0gbm92b0VsZW1lbnRvKFwiYnV0dG9uXCIpO1xyXG4gIGJ0bkNvbnRpbnVhci5pbm5lclRleHQgPSBcIkNvbnRpbnVhclwiO1xyXG4gIGJ0bkNvbnRpbnVhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9zdHJhclRlbGEocHJveFRlbGEpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzZWN0aW9uID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcInRlbGEtcHJveC1qb2dcIik7XHJcbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChoMik7XHJcbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChwKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGJ0bkNvbnRpbnVhcik7XHJcblxyXG4gIHJldHVybiBzZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZWxhUHJveEpvZ2Fkb3I7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5pbXBvcnQgXCIuL3RlbGFWZW5jZWRvci5zY3NzXCI7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcclxuaW1wb3J0IHRlbGFJbmljaW8gZnJvbSBcIi4vdGVsYUluaWNpb1wiO1xyXG5cclxuZnVuY3Rpb24gdGVsYVZlbmNlZG9yKG5vbWVWZW5jZWRvcikge1xyXG4gIGNvbnN0IGgyID0gbm92b0VsZW1lbnRvKFwiaDJcIik7XHJcbiAgaDIuaW5uZXJUZXh0ID0gYCR7bm9tZVZlbmNlZG9yfSB2ZW5jZXUhYDtcclxuXHJcbiAgY29uc3QgYnRuSm9nYXJEZW5vdm8gPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIik7XHJcbiAgYnRuSm9nYXJEZW5vdm8uaW5uZXJUZXh0ID0gXCJKb2dhciBkZSBub3ZvXCI7XHJcbiAgYnRuSm9nYXJEZW5vdm8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIG1vc3RyYXJUZWxhKHRlbGFJbmljaW8oKSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNlY3Rpb24gPSBub3ZvRWxlbWVudG8oXCJzZWN0aW9uXCIsIFwidGVsYS12ZW5jZWRvclwiKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGgyKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGJ0bkpvZ2FyRGVub3ZvKTtcclxuICByZXR1cm4gc2VjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVsYVZlbmNlZG9yO1xyXG4iLCJpbXBvcnQgbm92b0VsZW1lbnRvIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9FbGVtZW50b1wiO1xyXG5pbXBvcnQgdGFidWxlaXJvSHRtbCBmcm9tIFwiLi90YWJ1bGVpcm9IdG1sXCI7XHJcbmltcG9ydCBcIi4vdGVsYUpvZ2FyLnNjc3NcIjtcclxuaW1wb3J0IHRlbGFQcm94Sm9nYWRvciBmcm9tIFwiLi90ZWxhUHJveEpvZ2Fkb3JcIjtcclxuaW1wb3J0IG1vc3RyYXJUZWxhIGZyb20gXCIuLi91dGlsaWRhZGVzL21vc3RyYXJUZWxhXCI7XHJcbmltcG9ydCBkaXNwYXJvIGZyb20gXCIuLi9hdWRpby9kaXNwYXJvLm1wM1wiO1xyXG5pbXBvcnQgY29tZW1vcmFjYW8gZnJvbSBcIi4uL2F1ZGlvL2NvbWVtb3JhY2FvLm1wM1wiO1xyXG5pbXBvcnQgdHJpc3RlIGZyb20gXCIuLi9hdWRpby90cmlzdGUubXAzXCI7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcclxuaW1wb3J0IHRlbGFWZW5jZWRvciBmcm9tIFwiLi90ZWxhVmVuY2Vkb3JcIjtcclxuXHJcbmZ1bmN0aW9uIHRlbGFKb2dhcihqb2dhZG9yZXMsIHRhYnVsZWlyb3MsIGZvaUFjZXJ0byA9IGZhbHNlKSB7XHJcbiAgbGV0IGphSm9nb3UgPSBmYWxzZTtcclxuICBjb25zdCB0YWJPcG9uZW50ZSA9IHRhYnVsZWlyb0h0bWwoXCJ0YWJPcG9uZW50ZVwiLCB0YWJ1bGVpcm9zWzFdLmJvYXJkKCkpO1xyXG4gIGNvbnN0IHRhYlBlc3NvYWwgPSB0YWJ1bGVpcm9IdG1sKFwidGFiUGVzc29hbFwiLCB0YWJ1bGVpcm9zWzBdLmJvYXJkKCkpO1xyXG5cclxuICBjb25zdCBzZWN0aW9uID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcInRlbGEtam9nYXJcIik7XHJcbiAgY29uc3QgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImluZm9cIl0pO1xyXG5cclxuICBmdW5jdGlvbiBwcm94VGVsYShjb2RlLCBoaXQpIHtcclxuICAgIGxldCB0ZWxhO1xyXG4gICAgaWYgKGNvZGUpIHtcclxuICAgICAgdGVsYSA9IHRlbGFKb2dhcihqb2dhZG9yZXMsIHRhYnVsZWlyb3MsIGhpdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZWxhID0gdGVsYUpvZ2FyKGpvZ2Fkb3Jlcy5yZXZlcnNlKCksIHRhYnVsZWlyb3MucmV2ZXJzZSgpKTtcclxuICAgICAgdGVsYSA9IHRlbGFQcm94Sm9nYWRvcihqb2dhZG9yZXNbMF0ubmFtZSwgdGVsYSk7XHJcbiAgICB9XHJcbiAgICBtb3N0cmFyVGVsYSh0ZWxhKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGJ0bkNvbnRpbnVhciA9IG5vdm9FbGVtZW50byhcImJ1dHRvblwiKTtcclxuICBidG5Db250aW51YXIuaW5uZXJUZXh0ID0gXCJDb250aW51YXJcIjtcclxuXHJcbiAgY29uc3QgaDIgPSBub3ZvRWxlbWVudG8oXCJoMlwiKTtcclxuICBoMi5pbm5lclRleHQgPSBgRmHDp2EgdW1hIGpvZ2FkYSwgJHtqb2dhZG9yZXNbMF0ubmFtZX1gO1xyXG5cclxuICBkaXYuYXBwZW5kQ2hpbGQoaDIpO1xyXG4gIGNvbnN0IHAxID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICBwMS5pbm5lclRleHQgPSBcIkF0aXJlIG5vIHNldSBvcG9uZW50ZTpcIjtcclxuXHJcbiAgY29uc3QgcDIgPSBub3ZvRWxlbWVudG8oXCJwXCIpO1xyXG4gIHAyLmlubmVyVGV4dCA9IFwiQSBzaXR1YcOnw6NvIGRvIHNldSB0YWJ1bGVpcm86XCI7XHJcblxyXG4gIGNvbnN0IGRpdlRhYjEgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiZGl2LXRhYlwiXSk7XHJcbiAgZGl2VGFiMS5hcHBlbmRDaGlsZChwMSk7XHJcbiAgZGl2VGFiMS5hcHBlbmRDaGlsZCh0YWJPcG9uZW50ZSk7XHJcblxyXG4gIGNvbnN0IGRpdlRhYjIgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiZGl2LXRhYlwiXSk7XHJcbiAgZGl2VGFiMi5hcHBlbmRDaGlsZChwMik7XHJcbiAgZGl2VGFiMi5hcHBlbmRDaGlsZCh0YWJQZXNzb2FsKTtcclxuXHJcbiAgdGFiT3BvbmVudGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IGUudGFyZ2V0LmlkLnNwbGl0KFwiLVwiKTtcclxuXHJcbiAgICBpZiAoaWQubGVuZ3RoID09PSAzICYmICFqYUpvZ291KSB7XHJcbiAgICAgIGphSm9nb3UgPSB0cnVlO1xyXG5cclxuICAgICAgY29uc3QgYXVkaW9EaXNwYXJvID0gbmV3IEF1ZGlvKGRpc3Bhcm8pO1xyXG4gICAgICBhdWRpb0Rpc3Bhcm8ucGxheSgpO1xyXG5cclxuICAgICAgY29uc3QgYm9hcmQgPSB0YWJ1bGVpcm9zWzFdLmJvYXJkKCk7XHJcbiAgICAgIGNvbnN0IHggPSBOdW1iZXIoaWRbMV0pO1xyXG4gICAgICBjb25zdCB5ID0gTnVtYmVyKGlkWzJdKTtcclxuXHJcbiAgICAgIGxldCBpY29uZTtcclxuICAgICAgY29uc3QgYXRhcXVlID0gdGFidWxlaXJvc1sxXS5yZWNlaXZlQXR0YWNrKFt4LCB5XSk7XHJcbiAgICAgIGlmIChhdGFxdWUgPT09IFwiaGl0XCIpIHtcclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWNlcnRvXCIpO1xyXG4gICAgICAgIGUudGFyZ2V0LmlubmVyVGV4dCA9IGJvYXJkW3hdW3ldLnNoaXAubGVuZ3RoO1xyXG4gICAgICB9IGVsc2UgaWYgKGF0YXF1ZSA9PT0gXCJtaXNzXCIpIHtcclxuICAgICAgICBpY29uZSA9IG5vdm9FbGVtZW50byhcImlcIiwgXCJcIiwgW1wiZmEtc29saWRcIiwgXCJmYS1ib21iXCJdKTtcclxuXHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImVycm9cIik7XHJcbiAgICAgICAgZS50YXJnZXQuYXBwZW5kQ2hpbGQoaWNvbmUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB2ZXJpZmljYSBzZSBqb2dhZG9yIGdhbmhvdVxyXG4gICAgICBpZiAodGFidWxlaXJvc1sxXS5hbGxTaGlwc1N1bmtlZCgpKSB7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRlbGFWZW5jZWRvcihqb2dhZG9yZXNbMF0ubmFtZSkpO1xyXG4gICAgICAgIGRpdi5yZW1vdmVDaGlsZChoMik7XHJcblxyXG4gICAgICAgIGRpdlRhYjIucmVtb3ZlQ2hpbGQoZGl2VGFiMi5jaGlsZE5vZGVzWzFdKTtcclxuICAgICAgICBkaXZUYWIyLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgdGFidWxlaXJvSHRtbChcInRhYk9wb25lbnRlXCIsIHRhYnVsZWlyb3NbMF0uYm9hcmQoKSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBhdWRpb0NvbWVtb3JhY2FvID0gbmV3IEF1ZGlvKGNvbWVtb3JhY2FvKTtcclxuICAgICAgICBhdWRpb0NvbWVtb3JhY2FvLnBsYXkoKTtcclxuICAgICAgfSBlbHNlIGlmIChqb2dhZG9yZXNbMV0udHlwZSA9PT0gXCJjb2RlXCIpIHtcclxuICAgICAgICBjb25zdCBqb2dhZGEgPSBqb2dhZG9yZXNbMV0ubWFrZU1vdmUoZm9pQWNlcnRvLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGF0YWNhZG8gPSB0YWJ1bGVpcm9zWzBdLnJlY2VpdmVBdHRhY2soam9nYWRhKTtcclxuXHJcbiAgICAgICAgaWYgKGF0YWNhZG8gPT09IFwiaGl0XCIpIHtcclxuICAgICAgICAgIC8vIHZlcm9pZmljYSBzZSBwYyBnYW5ob3VcclxuICAgICAgICAgIGlmICh0YWJ1bGVpcm9zWzBdLmFsbFNoaXBzU3Vua2VkKCkpIHtcclxuICAgICAgICAgICAgZGl2LnJlbW92ZUNoaWxkKGgyKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRlbGFWZW5jZWRvcihqb2dhZG9yZXNbMV0ubmFtZSkpO1xyXG5cclxuICAgICAgICAgICAgZGl2VGFiMi5yZW1vdmVDaGlsZChkaXZUYWIyLmNoaWxkTm9kZXNbMV0pO1xyXG4gICAgICAgICAgICBkaXZUYWIyLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICAgIHRhYnVsZWlyb0h0bWwoXCJ0YWJPcG9uZW50ZVwiLCB0YWJ1bGVpcm9zWzBdLmJvYXJkKCkpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyaXN0ZSA9IG5ldyBBdWRpbyh0cmlzdGUpO1xyXG4gICAgICAgICAgICBhdWRpb1RyaXN0ZS5wbGF5KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcm94VGVsYSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcHJveFRlbGEodHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBidG5Db250aW51YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHByb3hUZWxhKGZhbHNlLCBmYWxzZSkpO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChidG5Db250aW51YXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZGl2KTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGRpdlRhYjEpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZGl2VGFiMik7XHJcblxyXG4gIHJldHVybiBzZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZWxhSm9nYXI7XHJcbiIsImltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4uL2ZhY3Rvcmllcy9HYW1lYm9hcmRcIjtcclxuaW1wb3J0IFNoaXAgZnJvbSBcIi4uL2ZhY3Rvcmllcy9TaGlwXCI7XHJcbmltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBcIi4vdGVsYVBvc2ljaW9uYXJCYXJjb3Muc2Nzc1wiO1xyXG5pbXBvcnQgZm9ybVBvc2ljYW8gZnJvbSBcIi4vZm9ybVBvc2ljYW9cIjtcclxuaW1wb3J0IHRhYnVsZWlyb0h0bWwgZnJvbSBcIi4vdGFidWxlaXJvSHRtbFwiO1xyXG5pbXBvcnQgdGVsYVByb3hKb2dhZG9yIGZyb20gXCIuL3RlbGFQcm94Sm9nYWRvclwiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4uL3V0aWxpZGFkZXMvbW9zdHJhclRlbGFcIjtcclxuaW1wb3J0IEVycm9zIGZyb20gXCIuL0Vycm9zXCI7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcclxuaW1wb3J0IHRlbGFKb2dhciBmcm9tIFwiLi90ZWxhSm9nYXJcIjtcclxuXHJcbmNvbnN0IGxpbmhhcyA9IFtcIkFcIiwgXCJCXCIsIFwiQ1wiLCBcIkRcIiwgXCJFXCIsIFwiRlwiLCBcIkdcIiwgXCJIXCIsIFwiSVwiLCBcIkpcIl07XHJcblxyXG5mdW5jdGlvbiBhZGljaW9uYXJOYXZpb3NQQyhuYXZpb3MsIHRhYnVsZWlybykge1xyXG4gIGxldCBpbmRleCA9IDA7XHJcbiAgd2hpbGUgKG5hdmlvcy5sZW5ndGggPiBpbmRleCkge1xyXG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcbiAgICBjb25zdCBoID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGFidWxlaXJvLmFkZFNoaXAobmF2aW9zW2luZGV4XSwgW3gsIHldLCBoKTtcclxuICAgICAgaW5kZXggKz0gMTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAvL1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGFidWxlaXJvO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZWxhUG9zaWNpb25hckJhcmNvcyhqb2dhZG9yZXMgPSBbXSwgdGFidWxlaXJvcyA9IFtdKSB7XHJcbiAgY29uc3QgdGFiMSA9IEdhbWVib2FyZCgpO1xyXG4gIGxldCB0YWIyID0gR2FtZWJvYXJkKCk7XHJcblxyXG4gIGNvbnN0IG5hdmlvcyA9IFtcclxuICAgIFNoaXAoNSwgXCJwb3J0YS1hdmnDtWVzXCIpLFxyXG4gICAgU2hpcCg0LCBcIm5hdmlvIGRlIGd1ZXJyYVwiKSxcclxuICAgIFNoaXAoMywgXCJjcnV6YWRvclwiKSxcclxuICAgIFNoaXAoMiwgXCJkZXN0cnVpZG9yXCIpLFxyXG4gICAgU2hpcCgxLCBcInN1Ym1hcmlub1wiKSxcclxuICBdO1xyXG4gIGxldCBpbmRleE5hdmlvcyA9IDA7XHJcblxyXG4gIGlmIChqb2dhZG9yZXNbMV0udHlwZSA9PT0gXCJjb2RlXCIpIHtcclxuICAgIHRhYjIgPSBhZGljaW9uYXJOYXZpb3NQQyhuYXZpb3MsIHRhYjIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaWRUYWIgPSBcInRhYjFcIjtcclxuICBjb25zdCB0MSA9IHRhYnVsZWlyb0h0bWwoaWRUYWIpO1xyXG5cclxuICAvLyBpbnRlcmZhY2UgcGFyYSBhZGljaW9uYXIgYmFyY29cclxuICBjb25zdCBoMiA9IG5vdm9FbGVtZW50byhcImgyXCIpO1xyXG4gIGgyLmlubmVyVGV4dCA9IGpvZ2Fkb3Jlc1swXS5uYW1lO1xyXG5cclxuICBjb25zdCBwID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICBwLmlubmVyVGV4dCA9IFwiUG9zaWNpb25lIHN1YXMgZW1iYXJjYcOnw7Vlc1wiO1xyXG5cclxuICBjb25zdCBtZW5zYWdlbnNFcnJvID0gRXJyb3MoKTtcclxuXHJcbiAgY29uc3QgZW1iYXJjYWNhbyA9IG5vdm9FbGVtZW50byhcInBcIiwgXCJcIiwgW1wiZW1iYXJjYWNhb1wiXSk7XHJcbiAgZW1iYXJjYWNhby5pbm5lclRleHQgPSBgJHtuYXZpb3NbaW5kZXhOYXZpb3NdLm5hbWUudG9VcHBlckNhc2UoKX0gKHRhbWFuaG8gJHtcclxuICAgIG5hdmlvc1tpbmRleE5hdmlvc10ubGVuZ3RoXHJcbiAgfSlgO1xyXG5cclxuICBjb25zdCBmb3JtID0gZm9ybVBvc2ljYW8oKTtcclxuICBjb25zdCBkaXZGb3JtID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImFkaWNpb25hci1iYXJjb1wiXSk7XHJcblxyXG4gIGNvbnN0IGJ0bkNvbnRpbnVhciA9IG5vdm9FbGVtZW50byhcImJ1dHRvblwiKTtcclxuICBidG5Db250aW51YXIuaW5uZXJUZXh0ID0gXCJDb250aW51YXJcIjtcclxuICBidG5Db250aW51YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChqb2dhZG9yZXNbMV0udHlwZSA9PT0gXCJjb2RlXCIpIHtcclxuICAgICAgdGFidWxlaXJvcy5wdXNoKHRhYjEpO1xyXG4gICAgICB0YWJ1bGVpcm9zLnB1c2godGFiMik7XHJcblxyXG4gICAgICBtb3N0cmFyVGVsYSh0ZWxhSm9nYXIoam9nYWRvcmVzLCB0YWJ1bGVpcm9zKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0YWJ1bGVpcm9zLnB1c2godGFiMSk7XHJcblxyXG4gICAgICBpZiAodGFidWxlaXJvcy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBjb25zdCBwcm94VGVsYSA9IHRlbGFKb2dhcihqb2dhZG9yZXMucmV2ZXJzZSgpLCB0YWJ1bGVpcm9zLnJldmVyc2UoKSk7XHJcbiAgICAgICAgbW9zdHJhclRlbGEodGVsYVByb3hKb2dhZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lLCBwcm94VGVsYSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHByb3hUZWxhID0gdGVsYVBvc2ljaW9uYXJCYXJjb3Moam9nYWRvcmVzLnJldmVyc2UoKSwgdGFidWxlaXJvcyk7XHJcbiAgICAgICAgbW9zdHJhclRlbGEodGVsYVByb3hKb2dhZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lLCBwcm94VGVsYSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHggPSBsaW5oYXMuaW5kZXhPZihmb3JtLmxpbmhhLnZhbHVlLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICBjb25zdCB5ID0gTnVtYmVyKGZvcm0uY29sdW5hLnZhbHVlKSAtIDE7XHJcbiAgICAgIGNvbnN0IGggPSAhZm9ybS52ZXJ0aWNhbC5jaGVja2VkO1xyXG5cclxuICAgICAgdGFiMS5hZGRTaGlwKG5hdmlvc1tpbmRleE5hdmlvc10sIFt4LCB5XSwgaCk7XHJcblxyXG4gICAgICBmb3JtLnJlc2V0KCk7XHJcbiAgICAgIGZvcm0ubGluaGEuZm9jdXMoKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYXZpb3NbaW5kZXhOYXZpb3NdLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgbGV0IGRpdjtcclxuICAgICAgICBpZiAoaCkge1xyXG4gICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWRUYWJ9LSR7eH0tJHt5ICsgaX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWRUYWJ9LSR7eCArIGl9LSR7eX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJiYXJjb1wiKTtcclxuICAgICAgICBkaXYuaW5uZXJUZXh0ID0gbmF2aW9zW2luZGV4TmF2aW9zXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGluZGV4TmF2aW9zICs9IDE7XHJcbiAgICAgIC8vIFZlcmlmaWNhIHNlIG9zIG5hdmlvcyBhY2FiYXJhbVxyXG4gICAgICBpZiAobmF2aW9zLmxlbmd0aCA8PSBpbmRleE5hdmlvcykge1xyXG4gICAgICAgIGRpdkZvcm0ucmVtb3ZlQ2hpbGQoZGl2Rm9ybS5jaGlsZE5vZGVzWzRdKTtcclxuICAgICAgICBkaXZGb3JtLnJlbW92ZUNoaWxkKGRpdkZvcm0uY2hpbGROb2Rlc1szXSk7XHJcbiAgICAgICAgZGl2Rm9ybS5yZW1vdmVDaGlsZChkaXZGb3JtLmNoaWxkTm9kZXNbMl0pO1xyXG4gICAgICAgIGRpdkZvcm0ucmVtb3ZlQ2hpbGQoZGl2Rm9ybS5jaGlsZE5vZGVzWzFdKTtcclxuICAgICAgICBkaXZGb3JtLmFwcGVuZENoaWxkKGJ0bkNvbnRpbnVhcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZW1iYXJjYWNhby5pbm5lclRleHQgPSBgJHtuYXZpb3NbXHJcbiAgICAgICAgICBpbmRleE5hdmlvc1xyXG4gICAgICAgIF0ubmFtZS50b1VwcGVyQ2FzZSgpfSAodGFtYW5obyAke25hdmlvc1tpbmRleE5hdmlvc10ubGVuZ3RofSlgO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgaWYgKC9leGNlZWRzIHRoZSBsZW5ndGgvZy50ZXN0KGVycikpIHtcclxuICAgICAgICBtZW5zYWdlbnNFcnJvLm5vdmFNZW5zYWdlbShcclxuICAgICAgICAgIFwiQSBlbWJhcmNhw6fDo28gZXh0cmFwb2xhIGEgbGFyZ3VyYSBkbyB0YWJ1bGVpcm9cIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoL2V4Y2VlZHMgdGhlIGhlaWdodC9nLnRlc3QoZXJyKSkge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFxyXG4gICAgICAgICAgXCJBIGVtYmFyY2HDp8OjbyBleHRyYXBvbGEgYSBhbHR1cmEgZG8gdGFidWxlaXJvXCJcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKC9hbHJlYWR5IGEgc2hpcC9nLnRlc3QoZXJyKSkge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFxyXG4gICAgICAgICAgXCJKw6EgaMOhIHVtYSBlbWJhcmNhw6fDo28gb25kZSB2b2PDqiBlc3TDoSB0ZW50YW5kbyBwb3NpY2lvbmFyXCJcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFwiVW0gZXJybyBvY29ycmV1XCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQoaDIpO1xyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQocCk7XHJcbiAgZGl2Rm9ybS5hcHBlbmRDaGlsZChtZW5zYWdlbnNFcnJvLmVsZW1lbnRvKTtcclxuICBkaXZGb3JtLmFwcGVuZENoaWxkKGVtYmFyY2FjYW8pO1xyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG4gIGNvbnN0IHRlbGFQb3NpY2lvbmFyID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcInRlbGEtcG9zaWNpb25hclwiKTtcclxuICB0ZWxhUG9zaWNpb25hci5hcHBlbmRDaGlsZChkaXZGb3JtKTtcclxuICB0ZWxhUG9zaWNpb25hci5hcHBlbmRDaGlsZCh0MSk7XHJcblxyXG4gIHJldHVybiB0ZWxhUG9zaWNpb25hcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVsYVBvc2ljaW9uYXJCYXJjb3M7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBcIi4vRXJyb3Muc2Nzc1wiO1xyXG5cclxuZnVuY3Rpb24gRXJyb3MoKSB7XHJcbiAgY29uc3QgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImVycm9zLW1zZ3NcIl0pO1xyXG5cclxuICBmdW5jdGlvbiBub3ZhTWVuc2FnZW0obWVuc2FnZW0gPSBcIlwiKSB7XHJcbiAgICBjb25zdCBwID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICAgIHAuaW5uZXJUZXh0ID0gbWVuc2FnZW07XHJcblxyXG4gICAgY29uc3QgbXNnID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcIm1lbnNhZ2VtXCJdKTtcclxuXHJcbiAgICBjb25zdCBmZWNoYXIgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEteG1hcmtcIl0pO1xyXG4gICAgZmVjaGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRpdi5yZW1vdmVDaGlsZChtc2cpO1xyXG4gICAgICBpZiAoIWRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBtc2cuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICBtc2cuYXBwZW5kQ2hpbGQoZmVjaGFyKTtcclxuXHJcbiAgICBkaXYuYXBwZW5kQ2hpbGQobXNnKTtcclxuICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBlbGVtZW50bzogZGl2LCBub3ZhTWVuc2FnZW0gfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXJyb3M7XHJcbiIsImltcG9ydCBub3ZvQ2FtcG9Gb3JtIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9DYW1wb0Zvcm1cIjtcclxuaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuXHJcbmZ1bmN0aW9uIGZvcm1Qb3NpY2FvKCkge1xyXG4gIGNvbnN0IGxpbmhhID0gbm92b0NhbXBvRm9ybShcIkxpbmhhIChBLUopOlwiLCBcImxpbmhhSW5wdXRcIiwgW1xyXG4gICAgW1wicmVxdWlyZWRcIiwgXCJ0cnVlXCJdLFxyXG4gICAgW1wibWF4bGVuZ3RoXCIsIFwiMVwiXSxcclxuICAgIFtcInBhdHRlcm5cIiwgXCJbYS1qQS1KXVwiXSxcclxuICAgIFtcIm5hbWVcIiwgXCJsaW5oYVwiXSxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgY29sdW5hID0gbm92b0NhbXBvRm9ybShcIkNvbHVuYSAoMS0xMCk6XCIsIFwiY29sdW5hSW5wdXRcIiwgW1xyXG4gICAgW1widHlwZVwiLCBcInRlbFwiXSxcclxuICAgIFtcInJlcXVpcmVkXCIsIFwidHJ1ZVwiXSxcclxuICAgIFtcIm1heGxlbmd0aFwiLCBcIjJcIl0sXHJcbiAgICBbXCJwYXR0ZXJuXCIsIFwiXihbMS05XXwxMCkkXCJdLFxyXG4gICAgW1wibmFtZVwiLCBcImNvbHVuYVwiXSxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgdmVydGljYWxJbnB1dCA9IG5vdm9FbGVtZW50byhcImlucHV0XCIpO1xyXG4gIHZlcnRpY2FsSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xyXG4gIHZlcnRpY2FsSW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInZlcnRpY2FsXCIpO1xyXG4gIHZlcnRpY2FsSW5wdXQuaWQgPSBcImlucHV0VmVydGljYWxcIjtcclxuXHJcbiAgY29uc3QgbGFiZWxWZXJ0aWNhbCA9IG5vdm9FbGVtZW50byhcImxhYmVsXCIpO1xyXG4gIGxhYmVsVmVydGljYWwuaW5uZXJUZXh0ID0gXCJQb3NpY2lvbmFyIHZlcnRpY2FsbWVudGVcIjtcclxuICBsYWJlbFZlcnRpY2FsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImlucHV0VmVydGljYWxcIik7XHJcblxyXG4gIGNvbnN0IHZlcnRpY2FsID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImlucHV0LWNoZWNrXCJdKTtcclxuICB2ZXJ0aWNhbC5hcHBlbmRDaGlsZCh2ZXJ0aWNhbElucHV0KTtcclxuICB2ZXJ0aWNhbC5hcHBlbmRDaGlsZChsYWJlbFZlcnRpY2FsKTtcclxuXHJcbiAgY29uc3QgYnRuU3VibWl0ID0gbm92b0VsZW1lbnRvKFwiYnV0dG9uXCIpO1xyXG4gIGJ0blN1Ym1pdC5pbm5lclRleHQgPSBcIkFkaWNpb25hclwiO1xyXG4gIGJ0blN1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xyXG5cclxuICBjb25zdCBmb3JtID0gbm92b0VsZW1lbnRvKFwiZm9ybVwiKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGxpbmhhKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGNvbHVuYSk7XHJcbiAgZm9ybS5hcHBlbmRDaGlsZCh2ZXJ0aWNhbCk7XHJcbiAgZm9ybS5hcHBlbmRDaGlsZChidG5TdWJtaXQpO1xyXG4gIHJldHVybiBmb3JtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmb3JtUG9zaWNhbztcclxuIiwiaW1wb3J0IFwiLi90ZWxhSm9nYWRvcmVzLnNjc3NcIjtcclxuaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuaW1wb3J0IG5vdm9DYW1wb0Zvcm0gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0NhbXBvRm9ybVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi9mYWN0b3JpZXMvUGxheWVyXCI7XHJcbmltcG9ydCB0ZWxhUG9zaWNpb25hckJhcmNvcyBmcm9tIFwiLi90ZWxhUG9zaWNpb25hckJhcmNvc1wiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4uL3V0aWxpZGFkZXMvbW9zdHJhclRlbGFcIjtcclxuXHJcbmZ1bmN0aW9uIGZvcm1Kb2dhZG9yKHRpdHVsb0Zvcm0sIG9wb25lbnRlUGVzc29hKSB7XHJcbiAgY29uc3QgY2FtcG9Ob21lID0gbm92b0NhbXBvRm9ybShcIkluZm9ybWUgc2V1IG5vbWU6XCIsIFwiaW5wdXROb21lXCIsIFtcclxuICAgIFtcInR5cGVcIiwgXCJ0ZXh0XCJdLFxyXG4gICAgW1wibmFtZVwiLCBcIm5vbWVcIl0sXHJcbiAgICBbXCJtaW5sZW5ndGhcIiwgXCIzXCJdLFxyXG4gICAgW1wicmVxdWlyZWRcIiwgXCJ0cnVlXCJdLFxyXG4gIF0pO1xyXG5cclxuICBjb25zdCBidG5TdWJtaXQgPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIik7XHJcbiAgYnRuU3VibWl0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XHJcbiAgYnRuU3VibWl0LmlubmVyVGV4dCA9IFwiU2FsdmFyXCI7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBub3ZvRWxlbWVudG8oXCJmb3JtXCIpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoY2FtcG9Ob21lKTtcclxuXHJcbiAgaWYgKG9wb25lbnRlUGVzc29hKSB7XHJcbiAgICBjb25zdCBjYW1wb05vbWUyID0gbm92b0NhbXBvRm9ybShcclxuICAgICAgXCJJbmZvcm1lIG8gbm9tZSBkZSBzZXUgb3BvbmVudGU6XCIsXHJcbiAgICAgIFwiaW5wdXROb21lMlwiLFxyXG4gICAgICBbXHJcbiAgICAgICAgW1widHlwZVwiLCBcInRleHRcIl0sXHJcbiAgICAgICAgW1wibmFtZVwiLCBcIm5vbWUyXCJdLFxyXG4gICAgICAgIFtcIm1pbmxlbmd0aFwiLCBcIjNcIl0sXHJcbiAgICAgICAgW1wicmVxdWlyZWRcIiwgXCJ0cnVlXCJdLFxyXG4gICAgICBdXHJcbiAgICApO1xyXG4gICAgZm9ybS5hcHBlbmRDaGlsZChjYW1wb05vbWUyKTtcclxuICB9XHJcblxyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoYnRuU3VibWl0KTtcclxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBqMSA9IFBsYXllcihmb3JtLm5vbWUudmFsdWUsIGZhbHNlKTtcclxuICAgIGxldCBqMjtcclxuICAgIGlmIChvcG9uZW50ZVBlc3NvYSkge1xyXG4gICAgICBqMiA9IFBsYXllcihmb3JtLm5vbWUyLnZhbHVlLCBmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBqMiA9IFBsYXllcihcIkNvbXB1dGFkb3JcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgam9nYWRvcmVzID0gW2oxLCBqMl07XHJcbiAgICBtb3N0cmFyVGVsYSh0ZWxhUG9zaWNpb25hckJhcmNvcyhqb2dhZG9yZXMsIFtdKSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGgzID0gbm92b0VsZW1lbnRvKFwiaDNcIik7XHJcbiAgaDMuaW5uZXJUZXh0ID0gdGl0dWxvRm9ybTtcclxuXHJcbiAgY29uc3QgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImZvcm0tam9nYWRvclwiXSk7XHJcblxyXG4gIGRpdi5hcHBlbmRDaGlsZChoMyk7XHJcbiAgZGl2LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cclxuICByZXR1cm4gZGl2O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZWxhSm9nYWRvcmVzKG9wb25lbnRlUGVzc29hID0gZmFsc2UpIHtcclxuICBsZXQgZm9ybTtcclxuICBpZiAob3BvbmVudGVQZXNzb2EpIHtcclxuICAgIGZvcm0gPSBmb3JtSm9nYWRvcihcIkNvbW8gZGV2byBsaGVzIGNoYW1hciwgbWFydWpvcz9cIiwgb3BvbmVudGVQZXNzb2EpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBmb3JtID0gZm9ybUpvZ2Fkb3IoXCJDb21vIGRldm8gbGhlIGNoYW1hciwgbWFydWpvP1wiLCBvcG9uZW50ZVBlc3NvYSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzZWN0aW9uID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcInRlbGEtcGFydGljaXBhbnRlc1wiKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGZvcm0pO1xyXG4gIHJldHVybiBzZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZWxhSm9nYWRvcmVzO1xyXG4iLCJpbXBvcnQgXCIuL3RlbGFJbmljaW8uc2Nzc1wiO1xyXG5pbXBvcnQgbm92b0VsZW1lbnRvIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9FbGVtZW50b1wiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4uL3V0aWxpZGFkZXMvbW9zdHJhclRlbGFcIjtcclxuaW1wb3J0IHRlbGFKb2dhZG9yZXMgZnJvbSBcIi4vdGVsYUpvZ2Fkb3Jlc1wiO1xyXG5cclxuZnVuY3Rpb24gdGVsYUluaWNpbygpIHtcclxuICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuICBoMi5pbm5lclRleHQgPSBcIk9sw6EgbWFydWpvLCBjb250cmEgcXVlbSBkZXNlamEgYmF0YWxoYXI/XCI7XHJcblxyXG4gIGNvbnN0IHBQQyA9IG5vdm9FbGVtZW50byhcInBcIik7XHJcbiAgcFBDLmlubmVyVGV4dCA9IFwiQ29tcHV0YWRvclwiO1xyXG5cclxuICBjb25zdCBwUGVzc29hID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICBwUGVzc29hLmlubmVyVGV4dCA9IFwiT3V0cm8gbWFydWpvXCI7XHJcblxyXG4gIGNvbnN0IGljb25lUm9ibyA9IG5vdm9FbGVtZW50byhcImlcIiwgXCJcIiwgW1wiZmEtc29saWRcIiwgXCJmYS1yb2JvdFwiXSk7XHJcbiAgY29uc3QgaWNvbmVQZXNzb2EgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEtYW5jaG9yXCJdKTtcclxuXHJcbiAgY29uc3QgZXNjb2xoYVBDID0gbm92b0VsZW1lbnRvKFwiYnV0dG9uXCIsIFwiXCIsIFtcImVzY29saGFcIl0pO1xyXG4gIGVzY29saGFQQy5hcHBlbmRDaGlsZChpY29uZVJvYm8pO1xyXG4gIGVzY29saGFQQy5hcHBlbmRDaGlsZChwUEMpO1xyXG4gIGVzY29saGFQQy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9zdHJhclRlbGEodGVsYUpvZ2Fkb3JlcyhmYWxzZSkpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBlc2NvbGhhUGVzc29hID0gbm92b0VsZW1lbnRvKFwiYnV0dG9uXCIsIFwiXCIsIFtcImVzY29saGFcIl0pO1xyXG4gIGVzY29saGFQZXNzb2EuYXBwZW5kQ2hpbGQoaWNvbmVQZXNzb2EpO1xyXG4gIGVzY29saGFQZXNzb2EuYXBwZW5kQ2hpbGQocFBlc3NvYSk7XHJcbiAgZXNjb2xoYVBlc3NvYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9zdHJhclRlbGEodGVsYUpvZ2Fkb3Jlcyh0cnVlKSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVzY29saGFzID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImVzY29saGFzXCJdKTtcclxuICBlc2NvbGhhcy5hcHBlbmRDaGlsZChlc2NvbGhhUEMpO1xyXG4gIGVzY29saGFzLmFwcGVuZENoaWxkKGVzY29saGFQZXNzb2EpO1xyXG5cclxuICBjb25zdCBkaXYgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wicGVyZ3VudGFcIl0pO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChoMik7XHJcbiAgZGl2LmFwcGVuZENoaWxkKGVzY29saGFzKTtcclxuXHJcbiAgY29uc3Qgc2VjdGlvbiA9IG5vdm9FbGVtZW50byhcInNlY3Rpb25cIiwgXCJib2FzLXZpbmRhc1wiKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgcmV0dXJuIHNlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRlbGFJbmljaW87XHJcbiIsImltcG9ydCBGb290ZXIgZnJvbSBcIi4vdWkvZm9vdGVyXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguc2Nzc1wiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5pbXBvcnQgdGVsYUluaWNpbyBmcm9tIFwiLi91aS90ZWxhSW5pY2lvXCI7XHJcbmltcG9ydCBvbmRhcyBmcm9tIFwiLi9hdWRpby93YXZlcy5tcDNcIjtcclxuaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi91dGlsaWRhZGVzL25vdm9FbGVtZW50b1wiO1xyXG5cclxuY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8ob25kYXMpO1xyXG5hdWRpby5sb29wID0gdHJ1ZTtcclxuYXVkaW8ucGxheSgpO1xyXG5cclxuY29uc3QgYnRuQXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blNvdW5kXCIpO1xyXG5idG5BdWRpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGxldCBpY29uZTtcclxuICBpZiAoYnRuQXVkaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwidG9jYW5kb1wiKSkge1xyXG4gICAgYXVkaW8ucGF1c2UoKTtcclxuICAgIGljb25lID0gbm92b0VsZW1lbnRvKFwiaVwiLCBcIlwiLCBbXCJmYS1zb2xpZFwiLCBcImZhLXZvbHVtZS14bWFya1wiXSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgIGljb25lID0gbm92b0VsZW1lbnRvKFwiaVwiLCBcIlwiLCBbXCJmYS1zb2xpZFwiLCBcImZhLXZvbHVtZS1oaWdoXCJdKTtcclxuICB9XHJcbiAgYnRuQXVkaW8uY2xhc3NMaXN0LnRvZ2dsZShcInRvY2FuZG9cIik7XHJcbiAgYnRuQXVkaW8ucmVtb3ZlQ2hpbGQoYnRuQXVkaW8uY2hpbGROb2Rlc1swXSk7XHJcbiAgYnRuQXVkaW8uYXBwZW5kQ2hpbGQoaWNvbmUpO1xyXG59KTtcclxuXHJcbm1vc3RyYXJUZWxhKHRlbGFJbmljaW8oKSk7XHJcblxyXG5Gb290ZXIuY2FycmVnYXJGb290ZXIoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImNhcnJlZ2FyRm9vdGVyIiwiZCIsIkRhdGUiLCJnZXRFbGVtZW50QnlJZCIsImlubmVyVGV4dCIsImdldEZ1bGxZZWFyIiwidGVsYSIsIm1haW4iLCJxdWVyeVNlbGVjdG9yIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiY2hpbGROb2RlcyIsImFwcGVuZENoaWxkIiwidGFnIiwiaWQiLCJjbGFzc2VzIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImxhYmVsVGV4dCIsImF0cmlidXRvcyIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwiaW5wdXQiLCJmb3JFYWNoIiwiYXRyaWJ1dG8iLCJjYW1wbyIsIm5hbWUiLCJjb21wdXRlciIsInR5cGUiLCJwbGF5ZXJPYmoiLCJ1c2VkQ29vcmRpbmF0ZXMiLCJyYW5kTnVtYmVyIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmFuZENvb3JkaW5hdGVzIiwiZXF1YWxDb29ycyIsImEiLCJiIiwiaW5SYW5nZSIsIngiLCJyYW5nZSIsIm1ha2VNb3ZlIiwibGFzdFdhc0hpdCIsInRyaWVkWCIsInRyaWVkWSIsInhBeGlzIiwibGFzdENvb3JzIiwieSIsInNvbWUiLCJjIiwicHVzaCIsImNvb3JzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsImdldCIsImdhbWVib2FyZCIsImNsZWFyIiwiaSIsImFyciIsImoiLCJvYmoiLCJzaGlwIiwic2hpcFBvc2l0aW9uIiwiaGFzU2hpcCIsImF0dGFja2VkIiwiaGl0IiwiYWRkU2hpcCIsImNvb3JkaW5hdGVzIiwiaG9yaXpvbnRhbGx5IiwiYm9hcmQiLCJyZWNlaXZlQXR0YWNrIiwic3AiLCJhbGxTaGlwc1N1bmtlZCIsInNpemUiLCJOdW1iZXIiLCJpc05hTiIsImlzSW50ZWdlciIsInN1bmsiLCJzZWN0aW9uc0FjdGl2ZSIsInBvc2l0aW9uIiwiaXNTdW5rIiwic2VjdGlvbnMiLCJjb250ZXVkb0RpdiIsInRhYklkIiwiZGl2IiwiaWNvbmUiLCJsaW5oYXMiLCJ0YWJ1bGVpcm8iLCJub21lUHJveCIsInByb3hUZWxhIiwiaDIiLCJidG5Db250aW51YXIiLCJhZGRFdmVudExpc3RlbmVyIiwic2VjdGlvbiIsIm5vbWVWZW5jZWRvciIsImJ0bkpvZ2FyRGVub3ZvIiwidGVsYUpvZ2FyIiwiam9nYWRvcmVzIiwidGFidWxlaXJvcyIsImZvaUFjZXJ0byIsImphSm9nb3UiLCJ0YWJPcG9uZW50ZSIsInRhYlBlc3NvYWwiLCJjb2RlIiwicmV2ZXJzZSIsInAxIiwicDIiLCJkaXZUYWIxIiwiZGl2VGFiMiIsInRhcmdldCIsInNwbGl0IiwiQXVkaW8iLCJkaXNwYXJvIiwicGxheSIsImF0YXF1ZSIsImNvbWVtb3JhY2FvIiwiam9nYWRhIiwidHJpc3RlIiwidGVsYVBvc2ljaW9uYXJCYXJjb3MiLCJ0YWIxIiwidGFiMiIsIm5hdmlvcyIsImluZGV4TmF2aW9zIiwiaW5kZXgiLCJoIiwiZXJyIiwiYWRpY2lvbmFyTmF2aW9zUEMiLCJ0MSIsIm1lbnNhZ2Vuc0Vycm8iLCJlbGVtZW50byIsIm5vdmFNZW5zYWdlbSIsIm1lbnNhZ2VtIiwibXNnIiwiZmVjaGFyIiwic3R5bGUiLCJkaXNwbGF5IiwiZW1iYXJjYWNhbyIsInRvVXBwZXJDYXNlIiwiZm9ybSIsImxpbmhhIiwiY29sdW5hIiwidmVydGljYWxJbnB1dCIsImxhYmVsVmVydGljYWwiLCJ2ZXJ0aWNhbCIsImJ0blN1Ym1pdCIsImRpdkZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsImluZGV4T2YiLCJ2YWx1ZSIsImNoZWNrZWQiLCJyZXNldCIsImZvY3VzIiwidGVzdCIsInRlbGFQb3NpY2lvbmFyIiwib3BvbmVudGVQZXNzb2EiLCJ0aXR1bG9Gb3JtIiwiY2FtcG9Ob21lIiwiY2FtcG9Ob21lMiIsImoxIiwibm9tZSIsImoyIiwibm9tZTIiLCJoMyIsImZvcm1Kb2dhZG9yIiwicFBDIiwicFBlc3NvYSIsImljb25lUm9ibyIsImljb25lUGVzc29hIiwiZXNjb2xoYVBDIiwiZXNjb2xoYVBlc3NvYSIsImVzY29saGFzIiwiYXVkaW8iLCJsb29wIiwiYnRuQXVkaW8iLCJjb250YWlucyIsInBhdXNlIiwidG9nZ2xlIl0sInNvdXJjZVJvb3QiOiIifQ==