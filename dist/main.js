(()=>{"use strict";var e={280:(e,t,n)=>{e.exports=n.p+"2b4e552d83cdc58a824c.mp3"},304:(e,t,n)=>{e.exports=n.p+"9cb6424a07bef6cb2fca.mp3"},447:(e,t,n)=>{e.exports=n.p+"6f5854be22a9c6731035.mp3"},22:(e,t,n)=>{e.exports=n.p+"5708759fa80a68425065.mp3"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e={carregarFooter(){const e=new Date;document.getElementById("footer-p").innerText=`Adriel Faria, ${e.getFullYear()}`}},t=function(e){const t=document.querySelector("main");t.hasChildNodes()&&t.removeChild(t.childNodes[0]),t.appendChild(e)},o=function(e,t="",n=[]){const o=document.createElement(e);return o.id=t,o.classList.add(...n),o},i=function(e,t,n=[]){const i=o("label");i.innerText=e,i.setAttribute("for",t);const r=o("input",t);n.forEach((e=>{r.setAttribute(e[0],e[1])}));const a=o("div","",["campo-form"]);return a.appendChild(i),a.appendChild(r),a},r=function(e="Player",t=!1){let n;const o={},i=[];function r(e=0,t=9){return Math.floor(Math.random()*(t+1-e))+e}function a(){return[r(),r()]}function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function d(e,t=[0,9]){return e>=t[0]&&e<=t[1]}return t?(n="code",o.makeMove=function e(t=!1,n=!1,o=!1){if(t){let t;t=n?0:o?1:r(0,1);const a=i[i.length-1];let c=a[0],l=a[1];const p=r(0,1);return 1===t?(l+=p?1:-1,!d(l)||i.some((e=>s(e,[c,l])))?(l-=p?2:-2,!d(l)||i.some((e=>s(e,[c,l])))?o?e():e(!0,!0,!1):(i.push([c,l]),[c,l])):(i.push([c,l]),[c,l])):(c+=p?1:-1,!d(c)||i.some((e=>s(e,[c,l])))?(c-=p?2:-2,!d(c)||i.some((e=>s(e,[c,l])))?n?e():e(!0,!1,!0):(i.push([c,l]),[c,l])):(i.push([c,l]),[c,l]))}let c=a();for(;i.some((e=>s(e,c)));)c=a();return i.push(c),c}):n="human",o.name=e,o.randCoordinates=a,Object.defineProperties(o,{type:{get:()=>n}}),o},a=function(){let e;function t(){e=[];for(let t=0;t<10;t+=1){const t=[];for(let e=0;e<10;e+=1){const e={ship:{},shipPosition:-1,hasShip:!1,attacked:!1,hit:!1};t.push(e)}e.push(t)}}return t(),{addShip:function(t,n,o){const i=n[0],r=n[1];if(o){if(t.length-1+r>9)throw new Error("The ship exceeds the length of the board")}else if(t.length-1+i>9)throw new Error("The ship exceeds the height of the board");for(let n=0;n<t.length;n+=1)if(o){if(e[i][r+n].hasShip)throw new Error("There's already a ship placed on this space")}else if(e[i+n][r].hasShip)throw new Error("There's already a ship placed on this space");for(let n=0;n<t.length;n+=1){const a=n;o?(e[i][r+n].hasShip=!0,e[i][r+n].ship=t,e[i][r+n].shipPosition=a):(e[i+n][r].hasShip=!0,e[i+n][r].ship=t,e[i+n][r].shipPosition=a)}return!0},board:function(){return[...e]},clear:t,receiveAttack:function(t){const n=t[0],o=t[1];if(e[n][o].attacked)return"already attacked";const i=e[n][o].shipPosition;return e[n][o].attacked=!0,e[n][o].hasShip?(e[n][o].hit=!0,e[n][o].ship.hit(i),"hit"):"miss"},allShipsSunked:function(){for(let t=0;t<10;t+=1){const n=t;for(let t=0;t<10;t+=1){const o=t;if(e[n][o].hasShip&&!e[n][o].attacked)return!1}}return!0}}},s=function(e=1,t=""){if(Number.isNaN(e))throw new Error("The size of the shit must be an integer");if(e<1)throw new Error("Ships must have a size of at least 1");if(!Number.isInteger(e))throw new Error("The size of the shit must be an integer");let n=!1;const o=e,i=[];for(let t=0;t<e;t+=1)i.push(!0);return{name:t,length:o,hit:function(e){if(e<0||e>o-1)throw new Error("'position' must be a number from 0 up to the ship size");if(i[e]){i[e]=!1,n=!0;for(let e=0;e<o;e+=1)i[e]&&(n=!1);return!0}return!1},isSunk:function(){return n},sections:function(){return[...i]}}};function d(e,t,n,i){let r;if(void 0!==e[t]&&e[t][n].attacked)if(e[t][n].hit)r=o("div","",["acerto"]),r.innerText=e[t][n].ship.length;else{const e=o("i","",["fa-solid","fa-bomb"]);r=o("div","",["erro"]),r.appendChild(e)}else r=o("div",`${i}-${t}-${n}`);return r}const c=function(e,t=[]){const n=["A","B","C","D","E","F","G","H","I","J"],i=o("div","",["tabuleiro"]);for(let e=0;e<=10;e+=1){const t=o("p");0!==e&&(t.innerText=e),i.appendChild(t)}for(let r=0;r<10;r+=1){const a=o("p"),s=r;a.innerText=n[s],i.appendChild(a);for(let n=0;n<10;n+=1){let r;const a=n;r=0!==t.length?d(t,s,a,e):o("div",`${e}-${s}-${a}`),i.appendChild(r)}}return i},l=function(e,n){const i=o("h2");i.innerText=`Passe o dispositivo para ${e}`;const r=o("p");r.innerText="Agora é a vez de seu oponente";const a=o("button");a.innerText="Continuar",a.addEventListener("click",(()=>{t(n)}));const s=o("section","tela-prox-jog");return s.appendChild(i),s.appendChild(r),s.appendChild(a),s};var p=n(304),h=n(280),u=n(447);const m=function(e){const n=o("h2");n.innerText=`${e} venceu!`;const i=o("button");i.innerText="Jogar de novo",i.addEventListener("click",(()=>{t(g())}));const r=o("section","tela-vencedor");return r.appendChild(n),r.appendChild(i),r},f=function e(n,i,r=!1){let a=!1;const s=c("tabOponente",i[1].board()),d=c("tabPessoal",i[0].board()),f=o("section","tela-jogar"),v=o("div","",["info"]);function C(o,r){let a;o?a=e(n,i,r):(a=e(n.reverse(),i.reverse()),a=l(n[0].name,a)),t(a)}const b=o("button");b.innerText="Continuar";const g=o("h2");g.innerText=`Faça uma jogada, ${n[0].name}`,v.appendChild(g);const x=o("p");x.innerText="Atire no seu oponente:";const T=o("p");T.innerText="A situação do seu tabuleiro:";const y=o("div","",["div-tab"]);y.appendChild(x),y.appendChild(s);const E=o("div","",["div-tab"]);return E.appendChild(T),E.appendChild(d),s.addEventListener("click",(e=>{const t=e.target.id.split("-");if(3===t.length&&!a){a=!0,new Audio(p).play();const s=i[1].board(),d=Number(t[1]),l=Number(t[2]);let f;const x=i[1].receiveAttack([d,l]);if("hit"===x?(e.target.classList.add("acerto"),e.target.innerText=s[d][l].ship.length):"miss"===x&&(f=o("i","",["fa-solid","fa-bomb"]),e.target.classList.add("erro"),e.target.appendChild(f)),i[1].allShipsSunked())v.appendChild(m(n[0].name)),E.removeChild(g),E.appendChild(c("tabOponente",i[0].board())),new Audio(h).play();else if("code"===n[1].type){const e=n[1].makeMove(r,!1,!1);"hit"===i[0].receiveAttack(e)?i[0].allShipsSunked()?(v.removeChild(g),v.appendChild(m(n[1].name)),E.removeChild(E.childNodes[1]),E.appendChild(c("tabOponente",i[0].board())),new Audio(u).play()):C(!0,!0):C(!0,!1)}else b.addEventListener("click",(()=>C(!1,!1))),v.appendChild(b)}})),f.appendChild(v),f.appendChild(y),f.appendChild(E),f},v=["A","B","C","D","E","F","G","H","I","J"],C=function e(n=[],r=[]){const d=a();let p=a();const h=[s(5,"porta-aviões"),s(4,"navio de guerra"),s(3,"cruzador"),s(2,"destruidor"),s(1,"submarino")];let u=0;"code"===n[1].type&&(p=function(e,t){let n=0;for(;e.length>n;){const o=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),r=Math.floor(2*Math.random());try{t.addShip(e[n],[o,i],r),n+=1}catch(e){}}return t}(h,p));const m=c("tab1"),C=o("h2");C.innerText=n[0].name;const b=o("p");b.innerText="Posicione suas embarcações";const g=function(){const e=o("div","",["erros-msgs"]);return{elemento:e,novaMensagem:function(t=""){const n=o("p");n.innerText=t;const i=o("div","",["mensagem"]),r=o("i","",["fa-solid","fa-xmark"]);r.addEventListener("click",(()=>{e.removeChild(i),e.hasChildNodes()||(e.style.display="none")})),i.appendChild(n),i.appendChild(r),e.appendChild(i),e.style.display="flex"}}}(),x=o("p","",["embarcacao"]);x.innerText=`${h[u].name.toUpperCase()} (tamanho ${h[u].length})`;const T=function(){const e=i("Linha (A-J):","linhaInput",[["required","true"],["maxlength","1"],["pattern","[a-jA-J]"],["name","linha"]]),t=i("Coluna (1-10):","colunaInput",[["tel","tel"],["required","true"],["maxlength","2"],["pattern","^([1-9]|10)$"],["name","coluna"]]),n=o("input");n.setAttribute("type","checkbox"),n.setAttribute("name","vertical"),n.id="inputVertical";const r=o("label");r.innerText="Posicionar verticalmente",r.setAttribute("for","inputVertical");const a=o("div","",["input-check"]);a.appendChild(n),a.appendChild(r);const s=o("button");s.innerText="Adicionar",s.setAttribute("type","submit");const d=o("form");return d.appendChild(e),d.appendChild(t),d.appendChild(a),d.appendChild(s),d}(),y=o("div","",["adicionar-barco"]),E=o("button");E.innerText="Continuar",E.addEventListener("click",(()=>{if("code"===n[1].type)r.push(d),r.push(p),t(f(n,r));else if(r.push(d),2===r.length){const e=f(n.reverse(),r.reverse());t(l(n[0].name,e))}else{const o=e(n.reverse(),r);t(l(n[0].name,o))}})),T.addEventListener("submit",(e=>{e.preventDefault();try{const e=v.indexOf(T.linha.value.toUpperCase()),t=Number(T.coluna.value)-1,n=!T.vertical.checked;d.addShip(h[u],[e,t],n),T.reset(),T.linha.focus();for(let o=0;o<h[u].length;o+=1){let i;i=n?document.getElementById(`tab1-${e}-${t+o}`):document.getElementById(`tab1-${e+o}-${t}`),i.classList.add("barco"),i.innerText=h[u].length}u+=1,h.length<=u?(y.removeChild(y.childNodes[4]),y.removeChild(y.childNodes[3]),y.removeChild(y.childNodes[2]),y.removeChild(y.childNodes[1]),y.appendChild(E)):x.innerText=`${h[u].name.toUpperCase()} (tamanho ${h[u].length})`}catch(e){/exceeds the length/g.test(e)?g.novaMensagem("A embarcação extrapola a largura do tabuleiro"):/exceeds the height/g.test(e)?g.novaMensagem("A embarcação extrapola a altura do tabuleiro"):/already a ship/g.test(e)?g.novaMensagem("Já há uma embarcação onde você está tentando posicionar"):g.novaMensagem("Um erro ocorreu")}})),y.appendChild(C),y.appendChild(b),y.appendChild(g.elemento),y.appendChild(x),y.appendChild(T);const k=o("section","tela-posicionar");return k.appendChild(y),k.appendChild(m),k};const b=function(e=!1){let n;n=function(e,n){const a=i("Informe seu nome:","inputNome",[["type","text"],["name","nome"],["minlength","3"],["required","true"]]),s=o("button");s.setAttribute("type","submit"),s.innerText="Salvar";const d=o("form");if(d.appendChild(a),n){const e=i("Informe o nome de seu oponente:","inputNome2",[["type","text"],["name","nome2"],["minlength","3"],["required","true"]]);d.appendChild(e)}d.appendChild(s),d.addEventListener("submit",(e=>{e.preventDefault();const o=r(d.nome.value,!1);let i;i=n?r(d.nome2.value,!1):r("Computador",!0),t(C([o,i],[]))}));const c=o("h3");c.innerText=e;const l=o("div","",["form-jogador"]);return l.appendChild(c),l.appendChild(d),l}(e?"Como devo lhes chamar, marujos?":"Como devo lhe chamar, marujo?",e);const a=o("section","tela-participantes");return a.appendChild(n),a},g=function(){const e=document.createElement("h2");e.innerText="Olá marujo, contra quem deseja batalhar?";const n=o("p");n.innerText="Computador";const i=o("p");i.innerText="Outro marujo";const r=o("i","",["fa-solid","fa-robot"]),a=o("i","",["fa-solid","fa-anchor"]),s=o("button","",["escolha"]);s.appendChild(r),s.appendChild(n),s.addEventListener("click",(()=>{t(b(!1))}));const d=o("button","",["escolha"]);d.appendChild(a),d.appendChild(i),d.addEventListener("click",(()=>{t(b(!0))}));const c=o("div","",["escolhas"]);c.appendChild(s),c.appendChild(d);const l=o("div","",["pergunta"]);l.appendChild(e),l.appendChild(c);const p=o("section","boas-vindas");return p.appendChild(l),p};var x=n(22);const T=new Audio(x);T.loop=!0,T.play();const y=document.getElementById("btnSound");y.addEventListener("click",(()=>{let e;y.classList.contains("tocando")?(T.pause(),e=o("i","",["fa-solid","fa-volume-xmark"])):(T.play(),e=o("i","",["fa-solid","fa-volume-high"])),y.classList.toggle("tocando"),y.removeChild(y.childNodes[0]),y.appendChild(e)})),t(g()),e.carregarFooter()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVN0SyxXQUFXLElBQ3pDc0ssRUFBU3JLLFlBQVk2RSxNQUd2QixFQUFZLEtBRVosb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvZm9vdGVyLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdXRpbGlkYWRlcy9tb3N0cmFyVGVsYS5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdXRpbGlkYWRlcy9ub3ZvQ2FtcG9Gb3JtLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvU2hpcC5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3VpL3RhYnVsZWlyb0h0bWwuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90ZWxhUHJveEpvZ2Fkb3IuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90ZWxhVmVuY2Vkb3IuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90ZWxhSm9nYXIuanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90ZWxhUG9zaWNpb25hckJhcmNvcy5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL3VpL0Vycm9zLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvZm9ybVBvc2ljYW8uanMiLCJ3ZWJwYWNrOi8vanMtYmF0dGxlc2hpcC8uL3NyYy91aS90ZWxhSm9nYWRvcmVzLmpzIiwid2VicGFjazovL2pzLWJhdHRsZXNoaXAvLi9zcmMvdWkvdGVsYUluaWNpby5qcyIsIndlYnBhY2s6Ly9qcy1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiY29uc3QgRm9vdGVyID0ge1xyXG4gIGNhcnJlZ2FyRm9vdGVyKCkge1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290ZXItcFwiKTtcclxuICAgIHAuaW5uZXJUZXh0ID0gYEFkcmllbCBGYXJpYSwgJHtkLmdldEZ1bGxZZWFyKCl9YDtcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyO1xyXG4iLCJmdW5jdGlvbiBtb3N0cmFyVGVsYSh0ZWxhKSB7XHJcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xyXG4gIGlmIChtYWluLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmNoaWxkTm9kZXNbMF0pO1xyXG4gIH1cclxuICBtYWluLmFwcGVuZENoaWxkKHRlbGEpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb3N0cmFyVGVsYTtcclxuIiwiZnVuY3Rpb24gbm92b0VsZW1lbnRvKHRhZywgaWQgPSBcIlwiLCBjbGFzc2VzID0gW10pIHtcclxuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gIGUuaWQgPSBpZDtcclxuICBlLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XHJcbiAgcmV0dXJuIGU7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5vdm9FbGVtZW50bztcclxuIiwiaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi9ub3ZvRWxlbWVudG9cIjtcclxuXHJcbmZ1bmN0aW9uIG5vdm9DYW1wb0Zvcm0obGFiZWxUZXh0LCBpZCwgYXRyaWJ1dG9zID0gW10pIHtcclxuICBjb25zdCBsYWJlbCA9IG5vdm9FbGVtZW50byhcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmlubmVyVGV4dCA9IGxhYmVsVGV4dDtcclxuICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgaWQpO1xyXG5cclxuICBjb25zdCBpbnB1dCA9IG5vdm9FbGVtZW50byhcImlucHV0XCIsIGlkKTtcclxuICBhdHJpYnV0b3MuZm9yRWFjaCgoYXRyaWJ1dG8pID0+IHtcclxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShhdHJpYnV0b1swXSwgYXRyaWJ1dG9bMV0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjYW1wbyA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJjYW1wby1mb3JtXCJdKTtcclxuICBjYW1wby5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgY2FtcG8uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gIHJldHVybiBjYW1wbztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbm92b0NhbXBvRm9ybTtcclxuIiwiZnVuY3Rpb24gUGxheWVyKG5hbWUgPSBcIlBsYXllclwiLCBjb21wdXRlciA9IGZhbHNlKSB7XHJcbiAgbGV0IHR5cGU7XHJcbiAgY29uc3QgcGxheWVyT2JqID0ge307XHJcbiAgY29uc3QgdXNlZENvb3JkaW5hdGVzID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIHJhbmROdW1iZXIobWluID0gMCwgbWF4ID0gOSkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggKyAxIC0gbWluKSkgKyBtaW47XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByYW5kQ29vcmRpbmF0ZXMoKSB7XHJcbiAgICBjb25zdCB4ID0gcmFuZE51bWJlcigpO1xyXG4gICAgY29uc3QgeSA9IHJhbmROdW1iZXIoKTtcclxuICAgIHJldHVybiBbeCwgeV07XHJcbiAgfVxyXG5cclxuICAvLyB0ZXJwb25zaWJsZSBmb3IgY2hlY2tpbmcgaWYgcGFpciBvZiBjb29yZGluYXRlcyBhcmUgZXF1YWxcclxuICBmdW5jdGlvbiBlcXVhbENvb3JzKGEsIGIpIHtcclxuICAgIGlmIChhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0pIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpblJhbmdlKHgsIHJhbmdlID0gWzAsIDldKSB7XHJcbiAgICBpZiAoeCA+PSByYW5nZVswXSAmJiB4IDw9IHJhbmdlWzFdKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbWFrZU1vdmUobGFzdFdhc0hpdCA9IGZhbHNlLCB0cmllZFggPSBmYWxzZSwgdHJpZWRZID0gZmFsc2UpIHtcclxuICAgIGlmIChsYXN0V2FzSGl0KSB7XHJcbiAgICAgIC8vIGRldGVybWluZSBpZiBpdCB3aWxsIHNob290IG9uIHggb3IgeSBheGlzXHJcbiAgICAgIGxldCB4QXhpcztcclxuICAgICAgaWYgKHRyaWVkWCkge1xyXG4gICAgICAgIHhBeGlzID0gMDtcclxuICAgICAgfSBlbHNlIGlmICh0cmllZFkpIHtcclxuICAgICAgICB4QXhpcyA9IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeEF4aXMgPSByYW5kTnVtYmVyKDAsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBsYXN0IGNvb3JkaW5hdGVzIHdoaWNoIHdlcmUgYSBoaXRcclxuICAgICAgY29uc3QgbGFzdENvb3JzID0gdXNlZENvb3JkaW5hdGVzW3VzZWRDb29yZGluYXRlcy5sZW5ndGggLSAxXTtcclxuICAgICAgbGV0IHggPSBsYXN0Q29vcnNbMF07XHJcbiAgICAgIGxldCB5ID0gbGFzdENvb3JzWzFdO1xyXG5cclxuICAgICAgLy8gZGV0ZXJtaW5lIGlmIGl0IHdpbGwgZmlyc3QgdHJ5IHRvIGFkZCBvciBzdWJ0cmFjdFxyXG4gICAgICBjb25zdCBhZGQgPSByYW5kTnVtYmVyKDAsIDEpO1xyXG5cclxuICAgICAgLy8geSBjaGFuZ2VzLCB4IHN0YXlzIHRoZSBzYW1lXHJcbiAgICAgIGlmICh4QXhpcyA9PT0gMSkge1xyXG4gICAgICAgIHkgKz0gYWRkID8gMSA6IC0xO1xyXG4gICAgICAgIGlmICghaW5SYW5nZSh5KSB8fCB1c2VkQ29vcmRpbmF0ZXMuc29tZSgoYykgPT4gZXF1YWxDb29ycyhjLCBbeCwgeV0pKSkge1xyXG4gICAgICAgICAgeSAtPSBhZGQgPyAyIDogLTI7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFpblJhbmdlKHkpIHx8XHJcbiAgICAgICAgICAgIHVzZWRDb29yZGluYXRlcy5zb21lKChjKSA9PiBlcXVhbENvb3JzKGMsIFt4LCB5XSkpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRyaWVkWSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBtYWtlTW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtYWtlTW92ZSh0cnVlLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB1c2VkQ29vcmRpbmF0ZXMucHVzaChbeCwgeV0pO1xyXG4gICAgICAgICAgcmV0dXJuIFt4LCB5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXNlZENvb3JkaW5hdGVzLnB1c2goW3gsIHldKTtcclxuICAgICAgICByZXR1cm4gW3gsIHldO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB4IGNoYW5nZXMsIHkgc3RheXMgdGhlIHNhbWVcclxuICAgICAgeCArPSBhZGQgPyAxIDogLTE7XHJcbiAgICAgIGlmICghaW5SYW5nZSh4KSB8fCB1c2VkQ29vcmRpbmF0ZXMuc29tZSgoYykgPT4gZXF1YWxDb29ycyhjLCBbeCwgeV0pKSkge1xyXG4gICAgICAgIHggLT0gYWRkID8gMiA6IC0yO1xyXG4gICAgICAgIGlmICghaW5SYW5nZSh4KSB8fCB1c2VkQ29vcmRpbmF0ZXMuc29tZSgoYykgPT4gZXF1YWxDb29ycyhjLCBbeCwgeV0pKSkge1xyXG4gICAgICAgICAgaWYgKHRyaWVkWCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFrZU1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBtYWtlTW92ZSh0cnVlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZWRDb29yZGluYXRlcy5wdXNoKFt4LCB5XSk7XHJcbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcclxuICAgICAgfVxyXG4gICAgICB1c2VkQ29vcmRpbmF0ZXMucHVzaChbeCwgeV0pO1xyXG4gICAgICByZXR1cm4gW3gsIHldO1xyXG4gICAgfVxyXG4gICAgbGV0IGNvb3JzID0gcmFuZENvb3JkaW5hdGVzKCk7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xyXG4gICAgd2hpbGUgKHVzZWRDb29yZGluYXRlcy5zb21lKChjKSA9PiBlcXVhbENvb3JzKGMsIGNvb3JzKSkpIHtcclxuICAgICAgY29vcnMgPSByYW5kQ29vcmRpbmF0ZXMoKTtcclxuICAgIH1cclxuICAgIHVzZWRDb29yZGluYXRlcy5wdXNoKGNvb3JzKTtcclxuICAgIHJldHVybiBjb29ycztcclxuICB9XHJcblxyXG4gIGlmIChjb21wdXRlcikge1xyXG4gICAgdHlwZSA9IFwiY29kZVwiO1xyXG4gICAgcGxheWVyT2JqLm1ha2VNb3ZlID0gbWFrZU1vdmU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHR5cGUgPSBcImh1bWFuXCI7XHJcbiAgfVxyXG5cclxuICBwbGF5ZXJPYmoubmFtZSA9IG5hbWU7XHJcbiAgcGxheWVyT2JqLnJhbmRDb29yZGluYXRlcyA9IHJhbmRDb29yZGluYXRlcztcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwbGF5ZXJPYmosIHtcclxuICAgIHR5cGU6IHsgZ2V0OiAoKSA9PiB0eXBlIH0sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHBsYXllck9iajtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xyXG4iLCJmdW5jdGlvbiBHYW1lYm9hcmQoKSB7XHJcbiAgbGV0IGdhbWVib2FyZDtcclxuXHJcbiAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICBnYW1lYm9hcmQgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBhcnIgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0ge1xyXG4gICAgICAgICAgc2hpcDoge30sXHJcbiAgICAgICAgICBzaGlwUG9zaXRpb246IC0xLFxyXG4gICAgICAgICAgaGFzU2hpcDogZmFsc2UsXHJcbiAgICAgICAgICBhdHRhY2tlZDogZmFsc2UsXHJcbiAgICAgICAgICBoaXQ6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXJyLnB1c2gob2JqKTtcclxuICAgICAgfVxyXG4gICAgICBnYW1lYm9hcmQucHVzaChhcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gaW5pdGlhbGl6ZSBnYW1lYm9hcmRcclxuICBjbGVhcigpO1xyXG5cclxuICBmdW5jdGlvbiBhZGRTaGlwKHNoaXAsIGNvb3JkaW5hdGVzLCBob3Jpem9udGFsbHkpIHtcclxuICAgIGNvbnN0IHggPSBjb29yZGluYXRlc1swXTtcclxuICAgIGNvbnN0IHkgPSBjb29yZGluYXRlc1sxXTtcclxuXHJcbiAgICAvLyBjaGVjayBpZiBzaGlwIGRvZXNuJ3QgZml0XHJcbiAgICBpZiAoaG9yaXpvbnRhbGx5KSB7XHJcbiAgICAgIGlmIChzaGlwLmxlbmd0aCAtIDEgKyB5ID4gOSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzaGlwIGV4Y2VlZHMgdGhlIGxlbmd0aCBvZiB0aGUgYm9hcmRcIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc2hpcC5sZW5ndGggLSAxICsgeCA+IDkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNoaXAgZXhjZWVkcyB0aGUgaGVpZ2h0IG9mIHRoZSBib2FyZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGFscmVhZHkgYSBoaXAgaW4gdGhlIHNwYWNlXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgaWYgKGhvcml6b250YWxseSkge1xyXG4gICAgICAgIGlmIChnYW1lYm9hcmRbeF1beSArIGldLmhhc1NoaXApIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlJ3MgYWxyZWFkeSBhIHNoaXAgcGxhY2VkIG9uIHRoaXMgc3BhY2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGdhbWVib2FyZFt4ICsgaV1beV0uaGFzU2hpcCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlJ3MgYWxyZWFkeSBhIHNoaXAgcGxhY2VkIG9uIHRoaXMgc3BhY2VcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBhZGQgc2hpcFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IHAgPSBpO1xyXG4gICAgICBpZiAoaG9yaXpvbnRhbGx5KSB7XHJcbiAgICAgICAgZ2FtZWJvYXJkW3hdW3kgKyBpXS5oYXNTaGlwID0gdHJ1ZTtcclxuICAgICAgICBnYW1lYm9hcmRbeF1beSArIGldLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIGdhbWVib2FyZFt4XVt5ICsgaV0uc2hpcFBvc2l0aW9uID0gcDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBnYW1lYm9hcmRbeCArIGldW3ldLmhhc1NoaXAgPSB0cnVlO1xyXG4gICAgICAgIGdhbWVib2FyZFt4ICsgaV1beV0uc2hpcCA9IHNoaXA7XHJcbiAgICAgICAgZ2FtZWJvYXJkW3ggKyBpXVt5XS5zaGlwUG9zaXRpb24gPSBwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBib2FyZCgpIHtcclxuICAgIHJldHVybiBbLi4uZ2FtZWJvYXJkXTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2soY29vcmRpbmF0ZXMpIHtcclxuICAgIGNvbnN0IHggPSBjb29yZGluYXRlc1swXTtcclxuICAgIGNvbnN0IHkgPSBjb29yZGluYXRlc1sxXTtcclxuXHJcbiAgICBpZiAoZ2FtZWJvYXJkW3hdW3ldLmF0dGFja2VkKSB7XHJcbiAgICAgIHJldHVybiBcImFscmVhZHkgYXR0YWNrZWRcIjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzcCA9IGdhbWVib2FyZFt4XVt5XS5zaGlwUG9zaXRpb247XHJcbiAgICBnYW1lYm9hcmRbeF1beV0uYXR0YWNrZWQgPSB0cnVlO1xyXG4gICAgaWYgKGdhbWVib2FyZFt4XVt5XS5oYXNTaGlwKSB7XHJcbiAgICAgIGdhbWVib2FyZFt4XVt5XS5oaXQgPSB0cnVlO1xyXG4gICAgICBnYW1lYm9hcmRbeF1beV0uc2hpcC5oaXQoc3ApO1xyXG4gICAgICByZXR1cm4gXCJoaXRcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBcIm1pc3NcIjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFsbFNoaXBzU3Vua2VkKCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IHggPSBpO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcclxuICAgICAgICBjb25zdCB5ID0gajtcclxuICAgICAgICBpZiAoZ2FtZWJvYXJkW3hdW3ldLmhhc1NoaXApIHtcclxuICAgICAgICAgIGlmICghZ2FtZWJvYXJkW3hdW3ldLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgYWRkU2hpcCwgYm9hcmQsIGNsZWFyLCByZWNlaXZlQXR0YWNrLCBhbGxTaGlwc1N1bmtlZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHYW1lYm9hcmQ7XHJcbiIsImZ1bmN0aW9uIFNoaXAoc2l6ZSA9IDEsIG5hbWUgPSBcIlwiKSB7XHJcbiAgaWYgKE51bWJlci5pc05hTihzaXplKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNpemUgb2YgdGhlIHNoaXQgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO1xyXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDEpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlNoaXBzIG11c3QgaGF2ZSBhIHNpemUgb2YgYXQgbGVhc3QgMVwiKTtcclxuICB9IGVsc2UgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHNpemUpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2l6ZSBvZiB0aGUgc2hpdCBtdXN0IGJlIGFuIGludGVnZXJcIik7XHJcbiAgfVxyXG5cclxuICBsZXQgc3VuayA9IGZhbHNlO1xyXG4gIGNvbnN0IGxlbmd0aCA9IHNpemU7XHJcbiAgY29uc3Qgc2VjdGlvbnNBY3RpdmUgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcclxuICAgIHNlY3Rpb25zQWN0aXZlLnB1c2godHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoaXQocG9zaXRpb24pIHtcclxuICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPiBsZW5ndGggLSAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIidwb3NpdGlvbicgbXVzdCBiZSBhIG51bWJlciBmcm9tIDAgdXAgdG8gdGhlIHNoaXAgc2l6ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VjdGlvbnNBY3RpdmVbcG9zaXRpb25dKSB7XHJcbiAgICAgIHNlY3Rpb25zQWN0aXZlW3Bvc2l0aW9uXSA9IGZhbHNlO1xyXG4gICAgICBzdW5rID0gdHJ1ZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIGlmIChzZWN0aW9uc0FjdGl2ZVtpXSkge1xyXG4gICAgICAgICAgc3VuayA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzU3VuaygpIHtcclxuICAgIHJldHVybiBzdW5rO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VjdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gWy4uLnNlY3Rpb25zQWN0aXZlXTtcclxuICB9XHJcbiAgcmV0dXJuIHsgbmFtZSwgbGVuZ3RoLCBoaXQsIGlzU3Vuaywgc2VjdGlvbnMgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hpcDtcclxuIiwiaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuXHJcbmZ1bmN0aW9uIGNvbnRldWRvRGl2KGJvYXJkLCB4LCB5LCB0YWJJZCkge1xyXG4gIGxldCBkaXY7XHJcblxyXG4gIGlmIChib2FyZFt4XSAhPT0gdW5kZWZpbmVkICYmIGJvYXJkW3hdW3ldLmF0dGFja2VkKSB7XHJcbiAgICBpZiAoYm9hcmRbeF1beV0uaGl0KSB7XHJcbiAgICAgIGRpdiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJhY2VydG9cIl0pO1xyXG4gICAgICBkaXYuaW5uZXJUZXh0ID0gYm9hcmRbeF1beV0uc2hpcC5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpY29uZSA9IG5vdm9FbGVtZW50byhcImlcIiwgXCJcIiwgW1wiZmEtc29saWRcIiwgXCJmYS1ib21iXCJdKTtcclxuXHJcbiAgICAgIGRpdiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJlcnJvXCJdKTtcclxuICAgICAgZGl2LmFwcGVuZENoaWxkKGljb25lKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIGAke3RhYklkfS0ke3h9LSR7eX1gKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkaXY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYnVsZWlyb0h0bWwodGFiSWQsIGJvYXJkID0gW10pIHtcclxuICBjb25zdCBsaW5oYXMgPSBbXCJBXCIsIFwiQlwiLCBcIkNcIiwgXCJEXCIsIFwiRVwiLCBcIkZcIiwgXCJHXCIsIFwiSFwiLCBcIklcIiwgXCJKXCJdO1xyXG4gIGNvbnN0IHRhYnVsZWlybyA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJ0YWJ1bGVpcm9cIl0pO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSArPSAxKSB7XHJcbiAgICBjb25zdCBwID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICAgIGlmIChpICE9PSAwKSB7XHJcbiAgICAgIHAuaW5uZXJUZXh0ID0gaTtcclxuICAgIH1cclxuICAgIHRhYnVsZWlyby5hcHBlbmRDaGlsZChwKTtcclxuICB9XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcCA9IG5vdm9FbGVtZW50byhcInBcIik7XHJcbiAgICBjb25zdCB4ID0gaTtcclxuICAgIHAuaW5uZXJUZXh0ID0gbGluaGFzW3hdO1xyXG4gICAgdGFidWxlaXJvLmFwcGVuZENoaWxkKHApO1xyXG5cclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xyXG4gICAgICBsZXQgZGl2O1xyXG4gICAgICBjb25zdCB5ID0gajtcclxuICAgICAgaWYgKGJvYXJkLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgIGRpdiA9IGNvbnRldWRvRGl2KGJvYXJkLCB4LCB5LCB0YWJJZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIGAke3RhYklkfS0ke3h9LSR7eX1gKTtcclxuICAgICAgfVxyXG4gICAgICB0YWJ1bGVpcm8uYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0YWJ1bGVpcm87XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRhYnVsZWlyb0h0bWw7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5pbXBvcnQgXCIuL3RlbGFQcm94Sm9nYWRvci5zY3NzXCI7XHJcblxyXG5mdW5jdGlvbiB0ZWxhUHJveEpvZ2Fkb3Iobm9tZVByb3gsIHByb3hUZWxhKSB7XHJcbiAgY29uc3QgaDIgPSBub3ZvRWxlbWVudG8oXCJoMlwiKTtcclxuICBoMi5pbm5lclRleHQgPSBgUGFzc2UgbyBkaXNwb3NpdGl2byBwYXJhICR7bm9tZVByb3h9YDtcclxuXHJcbiAgY29uc3QgcCA9IG5vdm9FbGVtZW50byhcInBcIik7XHJcbiAgcC5pbm5lclRleHQgPSBcIkFnb3JhIMOpIGEgdmV6IGRlIHNldSBvcG9uZW50ZVwiO1xyXG5cclxuICBjb25zdCBidG5Db250aW51YXIgPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIik7XHJcbiAgYnRuQ29udGludWFyLmlubmVyVGV4dCA9IFwiQ29udGludWFyXCI7XHJcbiAgYnRuQ29udGludWFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBtb3N0cmFyVGVsYShwcm94VGVsYSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNlY3Rpb24gPSBub3ZvRWxlbWVudG8oXCJzZWN0aW9uXCIsIFwidGVsYS1wcm94LWpvZ1wiKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKGgyKTtcclxuICBzZWN0aW9uLmFwcGVuZENoaWxkKHApO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoYnRuQ29udGludWFyKTtcclxuXHJcbiAgcmV0dXJuIHNlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRlbGFQcm94Sm9nYWRvcjtcclxuIiwiaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuaW1wb3J0IG1vc3RyYXJUZWxhIGZyb20gXCIuLi91dGlsaWRhZGVzL21vc3RyYXJUZWxhXCI7XHJcbmltcG9ydCBcIi4vdGVsYVZlbmNlZG9yLnNjc3NcIjtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1jeWNsZVxyXG5pbXBvcnQgdGVsYUluaWNpbyBmcm9tIFwiLi90ZWxhSW5pY2lvXCI7XHJcblxyXG5mdW5jdGlvbiB0ZWxhVmVuY2Vkb3Iobm9tZVZlbmNlZG9yKSB7XHJcbiAgY29uc3QgaDIgPSBub3ZvRWxlbWVudG8oXCJoMlwiKTtcclxuICBoMi5pbm5lclRleHQgPSBgJHtub21lVmVuY2Vkb3J9IHZlbmNldSFgO1xyXG5cclxuICBjb25zdCBidG5Kb2dhckRlbm92byA9IG5vdm9FbGVtZW50byhcImJ1dHRvblwiKTtcclxuICBidG5Kb2dhckRlbm92by5pbm5lclRleHQgPSBcIkpvZ2FyIGRlIG5vdm9cIjtcclxuICBidG5Kb2dhckRlbm92by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9zdHJhclRlbGEodGVsYUluaWNpbygpKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgc2VjdGlvbiA9IG5vdm9FbGVtZW50byhcInNlY3Rpb25cIiwgXCJ0ZWxhLXZlbmNlZG9yXCIpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoaDIpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoYnRuSm9nYXJEZW5vdm8pO1xyXG4gIHJldHVybiBzZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZWxhVmVuY2Vkb3I7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCB0YWJ1bGVpcm9IdG1sIGZyb20gXCIuL3RhYnVsZWlyb0h0bWxcIjtcclxuaW1wb3J0IFwiLi90ZWxhSm9nYXIuc2Nzc1wiO1xyXG5pbXBvcnQgdGVsYVByb3hKb2dhZG9yIGZyb20gXCIuL3RlbGFQcm94Sm9nYWRvclwiO1xyXG5pbXBvcnQgbW9zdHJhclRlbGEgZnJvbSBcIi4uL3V0aWxpZGFkZXMvbW9zdHJhclRlbGFcIjtcclxuaW1wb3J0IGRpc3Bhcm8gZnJvbSBcIi4uL2F1ZGlvL2Rpc3Bhcm8ubXAzXCI7XHJcbmltcG9ydCBjb21lbW9yYWNhbyBmcm9tIFwiLi4vYXVkaW8vY29tZW1vcmFjYW8ubXAzXCI7XHJcbmltcG9ydCB0cmlzdGUgZnJvbSBcIi4uL2F1ZGlvL3RyaXN0ZS5tcDNcIjtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1jeWNsZVxyXG5pbXBvcnQgdGVsYVZlbmNlZG9yIGZyb20gXCIuL3RlbGFWZW5jZWRvclwiO1xyXG5cclxuZnVuY3Rpb24gdGVsYUpvZ2FyKGpvZ2Fkb3JlcywgdGFidWxlaXJvcywgZm9pQWNlcnRvID0gZmFsc2UpIHtcclxuICBsZXQgamFKb2dvdSA9IGZhbHNlO1xyXG4gIGNvbnN0IHRhYk9wb25lbnRlID0gdGFidWxlaXJvSHRtbChcInRhYk9wb25lbnRlXCIsIHRhYnVsZWlyb3NbMV0uYm9hcmQoKSk7XHJcbiAgY29uc3QgdGFiUGVzc29hbCA9IHRhYnVsZWlyb0h0bWwoXCJ0YWJQZXNzb2FsXCIsIHRhYnVsZWlyb3NbMF0uYm9hcmQoKSk7XHJcblxyXG4gIGNvbnN0IHNlY3Rpb24gPSBub3ZvRWxlbWVudG8oXCJzZWN0aW9uXCIsIFwidGVsYS1qb2dhclwiKTtcclxuICBjb25zdCBkaXYgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiaW5mb1wiXSk7XHJcblxyXG4gIGZ1bmN0aW9uIHByb3hUZWxhKGNvZGUsIGhpdCkge1xyXG4gICAgbGV0IHRlbGE7XHJcbiAgICBpZiAoY29kZSkge1xyXG4gICAgICB0ZWxhID0gdGVsYUpvZ2FyKGpvZ2Fkb3JlcywgdGFidWxlaXJvcywgaGl0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbGEgPSB0ZWxhSm9nYXIoam9nYWRvcmVzLnJldmVyc2UoKSwgdGFidWxlaXJvcy5yZXZlcnNlKCkpO1xyXG4gICAgICB0ZWxhID0gdGVsYVByb3hKb2dhZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lLCB0ZWxhKTtcclxuICAgIH1cclxuICAgIG1vc3RyYXJUZWxhKHRlbGEpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYnRuQ29udGludWFyID0gbm92b0VsZW1lbnRvKFwiYnV0dG9uXCIpO1xyXG4gIGJ0bkNvbnRpbnVhci5pbm5lclRleHQgPSBcIkNvbnRpbnVhclwiO1xyXG5cclxuICBjb25zdCBoMiA9IG5vdm9FbGVtZW50byhcImgyXCIpO1xyXG4gIGgyLmlubmVyVGV4dCA9IGBGYcOnYSB1bWEgam9nYWRhLCAke2pvZ2Fkb3Jlc1swXS5uYW1lfWA7XHJcblxyXG4gIGRpdi5hcHBlbmRDaGlsZChoMik7XHJcbiAgY29uc3QgcDEgPSBub3ZvRWxlbWVudG8oXCJwXCIpO1xyXG4gIHAxLmlubmVyVGV4dCA9IFwiQXRpcmUgbm8gc2V1IG9wb25lbnRlOlwiO1xyXG5cclxuICBjb25zdCBwMiA9IG5vdm9FbGVtZW50byhcInBcIik7XHJcbiAgcDIuaW5uZXJUZXh0ID0gXCJBIHNpdHVhw6fDo28gZG8gc2V1IHRhYnVsZWlybzpcIjtcclxuXHJcbiAgY29uc3QgZGl2VGFiMSA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJkaXYtdGFiXCJdKTtcclxuICBkaXZUYWIxLmFwcGVuZENoaWxkKHAxKTtcclxuICBkaXZUYWIxLmFwcGVuZENoaWxkKHRhYk9wb25lbnRlKTtcclxuXHJcbiAgY29uc3QgZGl2VGFiMiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJkaXYtdGFiXCJdKTtcclxuICBkaXZUYWIyLmFwcGVuZENoaWxkKHAyKTtcclxuICBkaXZUYWIyLmFwcGVuZENoaWxkKHRhYlBlc3NvYWwpO1xyXG5cclxuICB0YWJPcG9uZW50ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGNvbnN0IGlkID0gZS50YXJnZXQuaWQuc3BsaXQoXCItXCIpO1xyXG5cclxuICAgIGlmIChpZC5sZW5ndGggPT09IDMgJiYgIWphSm9nb3UpIHtcclxuICAgICAgamFKb2dvdSA9IHRydWU7XHJcblxyXG4gICAgICBjb25zdCBhdWRpb0Rpc3Bhcm8gPSBuZXcgQXVkaW8oZGlzcGFybyk7XHJcbiAgICAgIGF1ZGlvRGlzcGFyby5wbGF5KCk7XHJcblxyXG4gICAgICBjb25zdCBib2FyZCA9IHRhYnVsZWlyb3NbMV0uYm9hcmQoKTtcclxuICAgICAgY29uc3QgeCA9IE51bWJlcihpZFsxXSk7XHJcbiAgICAgIGNvbnN0IHkgPSBOdW1iZXIoaWRbMl0pO1xyXG5cclxuICAgICAgbGV0IGljb25lO1xyXG4gICAgICBjb25zdCBhdGFxdWUgPSB0YWJ1bGVpcm9zWzFdLnJlY2VpdmVBdHRhY2soW3gsIHldKTtcclxuICAgICAgaWYgKGF0YXF1ZSA9PT0gXCJoaXRcIikge1xyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY2VydG9cIik7XHJcbiAgICAgICAgZS50YXJnZXQuaW5uZXJUZXh0ID0gYm9hcmRbeF1beV0uc2hpcC5sZW5ndGg7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXRhcXVlID09PSBcIm1pc3NcIikge1xyXG4gICAgICAgIGljb25lID0gbm92b0VsZW1lbnRvKFwiaVwiLCBcIlwiLCBbXCJmYS1zb2xpZFwiLCBcImZhLWJvbWJcIl0pO1xyXG5cclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiZXJyb1wiKTtcclxuICAgICAgICBlLnRhcmdldC5hcHBlbmRDaGlsZChpY29uZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHZlcmlmaWNhIHNlIGpvZ2Fkb3IgZ2FuaG91XHJcbiAgICAgIGlmICh0YWJ1bGVpcm9zWzFdLmFsbFNoaXBzU3Vua2VkKCkpIHtcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGVsYVZlbmNlZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lKSk7XHJcblxyXG4gICAgICAgIGRpdlRhYjIucmVtb3ZlQ2hpbGQoaDIpO1xyXG4gICAgICAgIGRpdlRhYjIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICB0YWJ1bGVpcm9IdG1sKFwidGFiT3BvbmVudGVcIiwgdGFidWxlaXJvc1swXS5ib2FyZCgpKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF1ZGlvQ29tZW1vcmFjYW8gPSBuZXcgQXVkaW8oY29tZW1vcmFjYW8pO1xyXG4gICAgICAgIGF1ZGlvQ29tZW1vcmFjYW8ucGxheSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGpvZ2Fkb3Jlc1sxXS50eXBlID09PSBcImNvZGVcIikge1xyXG4gICAgICAgIGNvbnN0IGpvZ2FkYSA9IGpvZ2Fkb3Jlc1sxXS5tYWtlTW92ZShmb2lBY2VydG8sIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgYXRhY2FkbyA9IHRhYnVsZWlyb3NbMF0ucmVjZWl2ZUF0dGFjayhqb2dhZGEpO1xyXG5cclxuICAgICAgICBpZiAoYXRhY2FkbyA9PT0gXCJoaXRcIikge1xyXG4gICAgICAgICAgLy8gdmVyb2lmaWNhIHNlIHBjIGdhbmhvdVxyXG4gICAgICAgICAgaWYgKHRhYnVsZWlyb3NbMF0uYWxsU2hpcHNTdW5rZWQoKSkge1xyXG4gICAgICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoaDIpO1xyXG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGVsYVZlbmNlZG9yKGpvZ2Fkb3Jlc1sxXS5uYW1lKSk7XHJcblxyXG4gICAgICAgICAgICBkaXZUYWIyLnJlbW92ZUNoaWxkKGRpdlRhYjIuY2hpbGROb2Rlc1sxXSk7XHJcbiAgICAgICAgICAgIGRpdlRhYjIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgdGFidWxlaXJvSHRtbChcInRhYk9wb25lbnRlXCIsIHRhYnVsZWlyb3NbMF0uYm9hcmQoKSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJpc3RlID0gbmV3IEF1ZGlvKHRyaXN0ZSk7XHJcbiAgICAgICAgICAgIGF1ZGlvVHJpc3RlLnBsYXkoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3hUZWxhKHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm94VGVsYSh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ0bkNvbnRpbnVhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcHJveFRlbGEoZmFsc2UsIGZhbHNlKSk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGJ0bkNvbnRpbnVhcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChkaXYpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZGl2VGFiMSk7XHJcbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChkaXZUYWIyKTtcclxuXHJcbiAgcmV0dXJuIHNlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRlbGFKb2dhcjtcclxuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi4vZmFjdG9yaWVzL0dhbWVib2FyZFwiO1xyXG5pbXBvcnQgU2hpcCBmcm9tIFwiLi4vZmFjdG9yaWVzL1NoaXBcIjtcclxuaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuaW1wb3J0IFwiLi90ZWxhUG9zaWNpb25hckJhcmNvcy5zY3NzXCI7XHJcbmltcG9ydCBmb3JtUG9zaWNhbyBmcm9tIFwiLi9mb3JtUG9zaWNhb1wiO1xyXG5pbXBvcnQgdGFidWxlaXJvSHRtbCBmcm9tIFwiLi90YWJ1bGVpcm9IdG1sXCI7XHJcbmltcG9ydCB0ZWxhUHJveEpvZ2Fkb3IgZnJvbSBcIi4vdGVsYVByb3hKb2dhZG9yXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5pbXBvcnQgRXJyb3MgZnJvbSBcIi4vRXJyb3NcIjtcclxuaW1wb3J0IHRlbGFKb2dhciBmcm9tIFwiLi90ZWxhSm9nYXJcIjtcclxuXHJcbmNvbnN0IGxpbmhhcyA9IFtcIkFcIiwgXCJCXCIsIFwiQ1wiLCBcIkRcIiwgXCJFXCIsIFwiRlwiLCBcIkdcIiwgXCJIXCIsIFwiSVwiLCBcIkpcIl07XHJcblxyXG5mdW5jdGlvbiBhZGljaW9uYXJOYXZpb3NQQyhuYXZpb3MsIHRhYnVsZWlybykge1xyXG4gIGxldCBpbmRleCA9IDA7XHJcbiAgd2hpbGUgKG5hdmlvcy5sZW5ndGggPiBpbmRleCkge1xyXG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcbiAgICBjb25zdCBoID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGFidWxlaXJvLmFkZFNoaXAobmF2aW9zW2luZGV4XSwgW3gsIHldLCBoKTtcclxuICAgICAgaW5kZXggKz0gMTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAvL1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGFidWxlaXJvO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZWxhUG9zaWNpb25hckJhcmNvcyhqb2dhZG9yZXMgPSBbXSwgdGFidWxlaXJvcyA9IFtdKSB7XHJcbiAgY29uc3QgdGFiMSA9IEdhbWVib2FyZCgpO1xyXG4gIGxldCB0YWIyID0gR2FtZWJvYXJkKCk7XHJcblxyXG4gIGNvbnN0IG5hdmlvcyA9IFtcclxuICAgIFNoaXAoNSwgXCJwb3J0YS1hdmnDtWVzXCIpLFxyXG4gICAgU2hpcCg0LCBcIm5hdmlvIGRlIGd1ZXJyYVwiKSxcclxuICAgIFNoaXAoMywgXCJjcnV6YWRvclwiKSxcclxuICAgIFNoaXAoMiwgXCJkZXN0cnVpZG9yXCIpLFxyXG4gICAgU2hpcCgxLCBcInN1Ym1hcmlub1wiKSxcclxuICBdO1xyXG4gIGxldCBpbmRleE5hdmlvcyA9IDA7XHJcblxyXG4gIGlmIChqb2dhZG9yZXNbMV0udHlwZSA9PT0gXCJjb2RlXCIpIHtcclxuICAgIHRhYjIgPSBhZGljaW9uYXJOYXZpb3NQQyhuYXZpb3MsIHRhYjIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaWRUYWIgPSBcInRhYjFcIjtcclxuICBjb25zdCB0MSA9IHRhYnVsZWlyb0h0bWwoaWRUYWIpO1xyXG5cclxuICAvLyBpbnRlcmZhY2UgcGFyYSBhZGljaW9uYXIgYmFyY29cclxuICBjb25zdCBoMiA9IG5vdm9FbGVtZW50byhcImgyXCIpO1xyXG4gIGgyLmlubmVyVGV4dCA9IGpvZ2Fkb3Jlc1swXS5uYW1lO1xyXG5cclxuICBjb25zdCBwID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICBwLmlubmVyVGV4dCA9IFwiUG9zaWNpb25lIHN1YXMgZW1iYXJjYcOnw7Vlc1wiO1xyXG5cclxuICBjb25zdCBtZW5zYWdlbnNFcnJvID0gRXJyb3MoKTtcclxuXHJcbiAgY29uc3QgZW1iYXJjYWNhbyA9IG5vdm9FbGVtZW50byhcInBcIiwgXCJcIiwgW1wiZW1iYXJjYWNhb1wiXSk7XHJcbiAgZW1iYXJjYWNhby5pbm5lclRleHQgPSBgJHtuYXZpb3NbaW5kZXhOYXZpb3NdLm5hbWUudG9VcHBlckNhc2UoKX0gKHRhbWFuaG8gJHtcclxuICAgIG5hdmlvc1tpbmRleE5hdmlvc10ubGVuZ3RoXHJcbiAgfSlgO1xyXG5cclxuICBjb25zdCBmb3JtID0gZm9ybVBvc2ljYW8oKTtcclxuICBjb25zdCBkaXZGb3JtID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImFkaWNpb25hci1iYXJjb1wiXSk7XHJcblxyXG4gIGNvbnN0IGJ0bkNvbnRpbnVhciA9IG5vdm9FbGVtZW50byhcImJ1dHRvblwiKTtcclxuICBidG5Db250aW51YXIuaW5uZXJUZXh0ID0gXCJDb250aW51YXJcIjtcclxuICBidG5Db250aW51YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChqb2dhZG9yZXNbMV0udHlwZSA9PT0gXCJjb2RlXCIpIHtcclxuICAgICAgdGFidWxlaXJvcy5wdXNoKHRhYjEpO1xyXG4gICAgICB0YWJ1bGVpcm9zLnB1c2godGFiMik7XHJcblxyXG4gICAgICBtb3N0cmFyVGVsYSh0ZWxhSm9nYXIoam9nYWRvcmVzLCB0YWJ1bGVpcm9zKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0YWJ1bGVpcm9zLnB1c2godGFiMSk7XHJcblxyXG4gICAgICBpZiAodGFidWxlaXJvcy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBjb25zdCBwcm94VGVsYSA9IHRlbGFKb2dhcihqb2dhZG9yZXMucmV2ZXJzZSgpLCB0YWJ1bGVpcm9zLnJldmVyc2UoKSk7XHJcbiAgICAgICAgbW9zdHJhclRlbGEodGVsYVByb3hKb2dhZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lLCBwcm94VGVsYSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHByb3hUZWxhID0gdGVsYVBvc2ljaW9uYXJCYXJjb3Moam9nYWRvcmVzLnJldmVyc2UoKSwgdGFidWxlaXJvcyk7XHJcbiAgICAgICAgbW9zdHJhclRlbGEodGVsYVByb3hKb2dhZG9yKGpvZ2Fkb3Jlc1swXS5uYW1lLCBwcm94VGVsYSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHggPSBsaW5oYXMuaW5kZXhPZihmb3JtLmxpbmhhLnZhbHVlLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICBjb25zdCB5ID0gTnVtYmVyKGZvcm0uY29sdW5hLnZhbHVlKSAtIDE7XHJcbiAgICAgIGNvbnN0IGggPSAhZm9ybS52ZXJ0aWNhbC5jaGVja2VkO1xyXG5cclxuICAgICAgdGFiMS5hZGRTaGlwKG5hdmlvc1tpbmRleE5hdmlvc10sIFt4LCB5XSwgaCk7XHJcblxyXG4gICAgICBmb3JtLnJlc2V0KCk7XHJcbiAgICAgIGZvcm0ubGluaGEuZm9jdXMoKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYXZpb3NbaW5kZXhOYXZpb3NdLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgbGV0IGRpdjtcclxuICAgICAgICBpZiAoaCkge1xyXG4gICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWRUYWJ9LSR7eH0tJHt5ICsgaX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWRUYWJ9LSR7eCArIGl9LSR7eX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJiYXJjb1wiKTtcclxuICAgICAgICBkaXYuaW5uZXJUZXh0ID0gbmF2aW9zW2luZGV4TmF2aW9zXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGluZGV4TmF2aW9zICs9IDE7XHJcbiAgICAgIC8vIFZlcmlmaWNhIHNlIG9zIG5hdmlvcyBhY2FiYXJhbVxyXG4gICAgICBpZiAobmF2aW9zLmxlbmd0aCA8PSBpbmRleE5hdmlvcykge1xyXG4gICAgICAgIGRpdkZvcm0ucmVtb3ZlQ2hpbGQoZGl2Rm9ybS5jaGlsZE5vZGVzWzRdKTtcclxuICAgICAgICBkaXZGb3JtLnJlbW92ZUNoaWxkKGRpdkZvcm0uY2hpbGROb2Rlc1szXSk7XHJcbiAgICAgICAgZGl2Rm9ybS5yZW1vdmVDaGlsZChkaXZGb3JtLmNoaWxkTm9kZXNbMl0pO1xyXG4gICAgICAgIGRpdkZvcm0ucmVtb3ZlQ2hpbGQoZGl2Rm9ybS5jaGlsZE5vZGVzWzFdKTtcclxuICAgICAgICBkaXZGb3JtLmFwcGVuZENoaWxkKGJ0bkNvbnRpbnVhcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZW1iYXJjYWNhby5pbm5lclRleHQgPSBgJHtuYXZpb3NbXHJcbiAgICAgICAgICBpbmRleE5hdmlvc1xyXG4gICAgICAgIF0ubmFtZS50b1VwcGVyQ2FzZSgpfSAodGFtYW5obyAke25hdmlvc1tpbmRleE5hdmlvc10ubGVuZ3RofSlgO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgaWYgKC9leGNlZWRzIHRoZSBsZW5ndGgvZy50ZXN0KGVycikpIHtcclxuICAgICAgICBtZW5zYWdlbnNFcnJvLm5vdmFNZW5zYWdlbShcclxuICAgICAgICAgIFwiQSBlbWJhcmNhw6fDo28gZXh0cmFwb2xhIGEgbGFyZ3VyYSBkbyB0YWJ1bGVpcm9cIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoL2V4Y2VlZHMgdGhlIGhlaWdodC9nLnRlc3QoZXJyKSkge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFxyXG4gICAgICAgICAgXCJBIGVtYmFyY2HDp8OjbyBleHRyYXBvbGEgYSBhbHR1cmEgZG8gdGFidWxlaXJvXCJcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKC9hbHJlYWR5IGEgc2hpcC9nLnRlc3QoZXJyKSkge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFxyXG4gICAgICAgICAgXCJKw6EgaMOhIHVtYSBlbWJhcmNhw6fDo28gb25kZSB2b2PDqiBlc3TDoSB0ZW50YW5kbyBwb3NpY2lvbmFyXCJcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1lbnNhZ2Vuc0Vycm8ubm92YU1lbnNhZ2VtKFwiVW0gZXJybyBvY29ycmV1XCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQoaDIpO1xyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQocCk7XHJcbiAgZGl2Rm9ybS5hcHBlbmRDaGlsZChtZW5zYWdlbnNFcnJvLmVsZW1lbnRvKTtcclxuICBkaXZGb3JtLmFwcGVuZENoaWxkKGVtYmFyY2FjYW8pO1xyXG4gIGRpdkZvcm0uYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG4gIGNvbnN0IHRlbGFQb3NpY2lvbmFyID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcInRlbGEtcG9zaWNpb25hclwiKTtcclxuICB0ZWxhUG9zaWNpb25hci5hcHBlbmRDaGlsZChkaXZGb3JtKTtcclxuICB0ZWxhUG9zaWNpb25hci5hcHBlbmRDaGlsZCh0MSk7XHJcblxyXG4gIHJldHVybiB0ZWxhUG9zaWNpb25hcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVsYVBvc2ljaW9uYXJCYXJjb3M7XHJcbiIsImltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBcIi4vRXJyb3Muc2Nzc1wiO1xyXG5cclxuZnVuY3Rpb24gRXJyb3MoKSB7XHJcbiAgY29uc3QgZGl2ID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcImVycm9zLW1zZ3NcIl0pO1xyXG5cclxuICBmdW5jdGlvbiBub3ZhTWVuc2FnZW0obWVuc2FnZW0gPSBcIlwiKSB7XHJcbiAgICBjb25zdCBwID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICAgIHAuaW5uZXJUZXh0ID0gbWVuc2FnZW07XHJcblxyXG4gICAgY29uc3QgbXNnID0gbm92b0VsZW1lbnRvKFwiZGl2XCIsIFwiXCIsIFtcIm1lbnNhZ2VtXCJdKTtcclxuXHJcbiAgICBjb25zdCBmZWNoYXIgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEteG1hcmtcIl0pO1xyXG4gICAgZmVjaGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRpdi5yZW1vdmVDaGlsZChtc2cpO1xyXG4gICAgICBpZiAoIWRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBtc2cuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICBtc2cuYXBwZW5kQ2hpbGQoZmVjaGFyKTtcclxuXHJcbiAgICBkaXYuYXBwZW5kQ2hpbGQobXNnKTtcclxuICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBlbGVtZW50bzogZGl2LCBub3ZhTWVuc2FnZW0gfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXJyb3M7XHJcbiIsImltcG9ydCBub3ZvQ2FtcG9Gb3JtIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9DYW1wb0Zvcm1cIjtcclxuaW1wb3J0IG5vdm9FbGVtZW50byBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvRWxlbWVudG9cIjtcclxuXHJcbmZ1bmN0aW9uIGZvcm1Qb3NpY2FvKCkge1xyXG4gIGNvbnN0IGxpbmhhID0gbm92b0NhbXBvRm9ybShcIkxpbmhhIChBLUopOlwiLCBcImxpbmhhSW5wdXRcIiwgW1xyXG4gICAgW1wicmVxdWlyZWRcIiwgXCJ0cnVlXCJdLFxyXG4gICAgW1wibWF4bGVuZ3RoXCIsIFwiMVwiXSxcclxuICAgIFtcInBhdHRlcm5cIiwgXCJbYS1qQS1KXVwiXSxcclxuICAgIFtcIm5hbWVcIiwgXCJsaW5oYVwiXSxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgY29sdW5hID0gbm92b0NhbXBvRm9ybShcIkNvbHVuYSAoMS0xMCk6XCIsIFwiY29sdW5hSW5wdXRcIiwgW1xyXG4gICAgW1widGVsXCIsIFwidGVsXCJdLFxyXG4gICAgW1wicmVxdWlyZWRcIiwgXCJ0cnVlXCJdLFxyXG4gICAgW1wibWF4bGVuZ3RoXCIsIFwiMlwiXSxcclxuICAgIFtcInBhdHRlcm5cIiwgXCJeKFsxLTldfDEwKSRcIl0sXHJcbiAgICBbXCJuYW1lXCIsIFwiY29sdW5hXCJdLFxyXG4gIF0pO1xyXG5cclxuICBjb25zdCB2ZXJ0aWNhbElucHV0ID0gbm92b0VsZW1lbnRvKFwiaW5wdXRcIik7XHJcbiAgdmVydGljYWxJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XHJcbiAgdmVydGljYWxJbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidmVydGljYWxcIik7XHJcbiAgdmVydGljYWxJbnB1dC5pZCA9IFwiaW5wdXRWZXJ0aWNhbFwiO1xyXG5cclxuICBjb25zdCBsYWJlbFZlcnRpY2FsID0gbm92b0VsZW1lbnRvKFwibGFiZWxcIik7XHJcbiAgbGFiZWxWZXJ0aWNhbC5pbm5lclRleHQgPSBcIlBvc2ljaW9uYXIgdmVydGljYWxtZW50ZVwiO1xyXG4gIGxhYmVsVmVydGljYWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiaW5wdXRWZXJ0aWNhbFwiKTtcclxuXHJcbiAgY29uc3QgdmVydGljYWwgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiaW5wdXQtY2hlY2tcIl0pO1xyXG4gIHZlcnRpY2FsLmFwcGVuZENoaWxkKHZlcnRpY2FsSW5wdXQpO1xyXG4gIHZlcnRpY2FsLmFwcGVuZENoaWxkKGxhYmVsVmVydGljYWwpO1xyXG5cclxuICBjb25zdCBidG5TdWJtaXQgPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIik7XHJcbiAgYnRuU3VibWl0LmlubmVyVGV4dCA9IFwiQWRpY2lvbmFyXCI7XHJcbiAgYnRuU3VibWl0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBub3ZvRWxlbWVudG8oXCJmb3JtXCIpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQobGluaGEpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoY29sdW5hKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKHZlcnRpY2FsKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGJ0blN1Ym1pdCk7XHJcbiAgcmV0dXJuIGZvcm07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZvcm1Qb3NpY2FvO1xyXG4iLCJpbXBvcnQgXCIuL3RlbGFKb2dhZG9yZXMuc2Nzc1wiO1xyXG5pbXBvcnQgbm92b0VsZW1lbnRvIGZyb20gXCIuLi91dGlsaWRhZGVzL25vdm9FbGVtZW50b1wiO1xyXG5pbXBvcnQgbm92b0NhbXBvRm9ybSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9ub3ZvQ2FtcG9Gb3JtXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL2ZhY3Rvcmllcy9QbGF5ZXJcIjtcclxuaW1wb3J0IHRlbGFQb3NpY2lvbmFyQmFyY29zIGZyb20gXCIuL3RlbGFQb3NpY2lvbmFyQmFyY29zXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5cclxuZnVuY3Rpb24gZm9ybUpvZ2Fkb3IodGl0dWxvRm9ybSwgb3BvbmVudGVQZXNzb2EpIHtcclxuICBjb25zdCBjYW1wb05vbWUgPSBub3ZvQ2FtcG9Gb3JtKFwiSW5mb3JtZSBzZXUgbm9tZTpcIiwgXCJpbnB1dE5vbWVcIiwgW1xyXG4gICAgW1widHlwZVwiLCBcInRleHRcIl0sXHJcbiAgICBbXCJuYW1lXCIsIFwibm9tZVwiXSxcclxuICAgIFtcIm1pbmxlbmd0aFwiLCBcIjNcIl0sXHJcbiAgICBbXCJyZXF1aXJlZFwiLCBcInRydWVcIl0sXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IGJ0blN1Ym1pdCA9IG5vdm9FbGVtZW50byhcImJ1dHRvblwiKTtcclxuICBidG5TdWJtaXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcclxuICBidG5TdWJtaXQuaW5uZXJUZXh0ID0gXCJTYWx2YXJcIjtcclxuXHJcbiAgY29uc3QgZm9ybSA9IG5vdm9FbGVtZW50byhcImZvcm1cIik7XHJcbiAgZm9ybS5hcHBlbmRDaGlsZChjYW1wb05vbWUpO1xyXG5cclxuICBpZiAob3BvbmVudGVQZXNzb2EpIHtcclxuICAgIGNvbnN0IGNhbXBvTm9tZTIgPSBub3ZvQ2FtcG9Gb3JtKFxyXG4gICAgICBcIkluZm9ybWUgbyBub21lIGRlIHNldSBvcG9uZW50ZTpcIixcclxuICAgICAgXCJpbnB1dE5vbWUyXCIsXHJcbiAgICAgIFtcclxuICAgICAgICBbXCJ0eXBlXCIsIFwidGV4dFwiXSxcclxuICAgICAgICBbXCJuYW1lXCIsIFwibm9tZTJcIl0sXHJcbiAgICAgICAgW1wibWlubGVuZ3RoXCIsIFwiM1wiXSxcclxuICAgICAgICBbXCJyZXF1aXJlZFwiLCBcInRydWVcIl0sXHJcbiAgICAgIF1cclxuICAgICk7XHJcbiAgICBmb3JtLmFwcGVuZENoaWxkKGNhbXBvTm9tZTIpO1xyXG4gIH1cclxuXHJcbiAgZm9ybS5hcHBlbmRDaGlsZChidG5TdWJtaXQpO1xyXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IGoxID0gUGxheWVyKGZvcm0ubm9tZS52YWx1ZSwgZmFsc2UpO1xyXG4gICAgbGV0IGoyO1xyXG4gICAgaWYgKG9wb25lbnRlUGVzc29hKSB7XHJcbiAgICAgIGoyID0gUGxheWVyKGZvcm0ubm9tZTIudmFsdWUsIGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGoyID0gUGxheWVyKFwiQ29tcHV0YWRvclwiLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBqb2dhZG9yZXMgPSBbajEsIGoyXTtcclxuICAgIG1vc3RyYXJUZWxhKHRlbGFQb3NpY2lvbmFyQmFyY29zKGpvZ2Fkb3JlcywgW10pKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaDMgPSBub3ZvRWxlbWVudG8oXCJoM1wiKTtcclxuICBoMy5pbm5lclRleHQgPSB0aXR1bG9Gb3JtO1xyXG5cclxuICBjb25zdCBkaXYgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiZm9ybS1qb2dhZG9yXCJdKTtcclxuXHJcbiAgZGl2LmFwcGVuZENoaWxkKGgzKTtcclxuICBkaXYuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG4gIHJldHVybiBkaXY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRlbGFKb2dhZG9yZXMob3BvbmVudGVQZXNzb2EgPSBmYWxzZSkge1xyXG4gIGxldCBmb3JtO1xyXG4gIGlmIChvcG9uZW50ZVBlc3NvYSkge1xyXG4gICAgZm9ybSA9IGZvcm1Kb2dhZG9yKFwiQ29tbyBkZXZvIGxoZXMgY2hhbWFyLCBtYXJ1am9zP1wiLCBvcG9uZW50ZVBlc3NvYSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGZvcm0gPSBmb3JtSm9nYWRvcihcIkNvbW8gZGV2byBsaGUgY2hhbWFyLCBtYXJ1am8/XCIsIG9wb25lbnRlUGVzc29hKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNlY3Rpb24gPSBub3ZvRWxlbWVudG8oXCJzZWN0aW9uXCIsIFwidGVsYS1wYXJ0aWNpcGFudGVzXCIpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZm9ybSk7XHJcbiAgcmV0dXJuIHNlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRlbGFKb2dhZG9yZXM7XHJcbiIsImltcG9ydCBcIi4vdGVsYUluaWNpby5zY3NzXCI7XHJcbmltcG9ydCBub3ZvRWxlbWVudG8gZnJvbSBcIi4uL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi4vdXRpbGlkYWRlcy9tb3N0cmFyVGVsYVwiO1xyXG5pbXBvcnQgdGVsYUpvZ2Fkb3JlcyBmcm9tIFwiLi90ZWxhSm9nYWRvcmVzXCI7XHJcblxyXG5mdW5jdGlvbiB0ZWxhSW5pY2lvKCkge1xyXG4gIGNvbnN0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gIGgyLmlubmVyVGV4dCA9IFwiT2zDoSBtYXJ1am8sIGNvbnRyYSBxdWVtIGRlc2VqYSBiYXRhbGhhcj9cIjtcclxuXHJcbiAgY29uc3QgcFBDID0gbm92b0VsZW1lbnRvKFwicFwiKTtcclxuICBwUEMuaW5uZXJUZXh0ID0gXCJDb21wdXRhZG9yXCI7XHJcblxyXG4gIGNvbnN0IHBQZXNzb2EgPSBub3ZvRWxlbWVudG8oXCJwXCIpO1xyXG4gIHBQZXNzb2EuaW5uZXJUZXh0ID0gXCJPdXRybyBtYXJ1am9cIjtcclxuXHJcbiAgY29uc3QgaWNvbmVSb2JvID0gbm92b0VsZW1lbnRvKFwiaVwiLCBcIlwiLCBbXCJmYS1zb2xpZFwiLCBcImZhLXJvYm90XCJdKTtcclxuICBjb25zdCBpY29uZVBlc3NvYSA9IG5vdm9FbGVtZW50byhcImlcIiwgXCJcIiwgW1wiZmEtc29saWRcIiwgXCJmYS1hbmNob3JcIl0pO1xyXG5cclxuICBjb25zdCBlc2NvbGhhUEMgPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIiwgXCJcIiwgW1wiZXNjb2xoYVwiXSk7XHJcbiAgZXNjb2xoYVBDLmFwcGVuZENoaWxkKGljb25lUm9ibyk7XHJcbiAgZXNjb2xoYVBDLmFwcGVuZENoaWxkKHBQQyk7XHJcbiAgZXNjb2xoYVBDLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBtb3N0cmFyVGVsYSh0ZWxhSm9nYWRvcmVzKGZhbHNlKSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVzY29saGFQZXNzb2EgPSBub3ZvRWxlbWVudG8oXCJidXR0b25cIiwgXCJcIiwgW1wiZXNjb2xoYVwiXSk7XHJcbiAgZXNjb2xoYVBlc3NvYS5hcHBlbmRDaGlsZChpY29uZVBlc3NvYSk7XHJcbiAgZXNjb2xoYVBlc3NvYS5hcHBlbmRDaGlsZChwUGVzc29hKTtcclxuICBlc2NvbGhhUGVzc29hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBtb3N0cmFyVGVsYSh0ZWxhSm9nYWRvcmVzKHRydWUpKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgZXNjb2xoYXMgPSBub3ZvRWxlbWVudG8oXCJkaXZcIiwgXCJcIiwgW1wiZXNjb2xoYXNcIl0pO1xyXG4gIGVzY29saGFzLmFwcGVuZENoaWxkKGVzY29saGFQQyk7XHJcbiAgZXNjb2xoYXMuYXBwZW5kQ2hpbGQoZXNjb2xoYVBlc3NvYSk7XHJcblxyXG4gIGNvbnN0IGRpdiA9IG5vdm9FbGVtZW50byhcImRpdlwiLCBcIlwiLCBbXCJwZXJndW50YVwiXSk7XHJcbiAgZGl2LmFwcGVuZENoaWxkKGgyKTtcclxuICBkaXYuYXBwZW5kQ2hpbGQoZXNjb2xoYXMpO1xyXG5cclxuICBjb25zdCBzZWN0aW9uID0gbm92b0VsZW1lbnRvKFwic2VjdGlvblwiLCBcImJvYXMtdmluZGFzXCIpO1xyXG4gIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZGl2KTtcclxuICByZXR1cm4gc2VjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVsYUluaWNpbztcclxuIiwiaW1wb3J0IEZvb3RlciBmcm9tIFwiLi91aS9mb290ZXJcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5zY3NzXCI7XHJcbmltcG9ydCBtb3N0cmFyVGVsYSBmcm9tIFwiLi91dGlsaWRhZGVzL21vc3RyYXJUZWxhXCI7XHJcbmltcG9ydCB0ZWxhSW5pY2lvIGZyb20gXCIuL3VpL3RlbGFJbmljaW9cIjtcclxuaW1wb3J0IG9uZGFzIGZyb20gXCIuL2F1ZGlvL3dhdmVzLm1wM1wiO1xyXG5pbXBvcnQgbm92b0VsZW1lbnRvIGZyb20gXCIuL3V0aWxpZGFkZXMvbm92b0VsZW1lbnRvXCI7XHJcblxyXG5jb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhvbmRhcyk7XHJcbmF1ZGlvLmxvb3AgPSB0cnVlO1xyXG5hdWRpby5wbGF5KCk7XHJcblxyXG5jb25zdCBidG5BdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuU291bmRcIik7XHJcbmJ0bkF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgbGV0IGljb25lO1xyXG4gIGlmIChidG5BdWRpby5jbGFzc0xpc3QuY29udGFpbnMoXCJ0b2NhbmRvXCIpKSB7XHJcbiAgICBhdWRpby5wYXVzZSgpO1xyXG4gICAgaWNvbmUgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEtdm9sdW1lLXhtYXJrXCJdKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXVkaW8ucGxheSgpO1xyXG4gICAgaWNvbmUgPSBub3ZvRWxlbWVudG8oXCJpXCIsIFwiXCIsIFtcImZhLXNvbGlkXCIsIFwiZmEtdm9sdW1lLWhpZ2hcIl0pO1xyXG4gIH1cclxuICBidG5BdWRpby5jbGFzc0xpc3QudG9nZ2xlKFwidG9jYW5kb1wiKTtcclxuICBidG5BdWRpby5yZW1vdmVDaGlsZChidG5BdWRpby5jaGlsZE5vZGVzWzBdKTtcclxuICBidG5BdWRpby5hcHBlbmRDaGlsZChpY29uZSk7XHJcbn0pO1xyXG5cclxubW9zdHJhclRlbGEodGVsYUluaWNpbygpKTtcclxuXHJcbkZvb3Rlci5jYXJyZWdhckZvb3RlcigpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiY2FycmVnYXJGb290ZXIiLCJkIiwiRGF0ZSIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJUZXh0IiwiZ2V0RnVsbFllYXIiLCJ0ZWxhIiwibWFpbiIsInF1ZXJ5U2VsZWN0b3IiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJjaGlsZE5vZGVzIiwiYXBwZW5kQ2hpbGQiLCJ0YWciLCJpZCIsImNsYXNzZXMiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwibGFiZWxUZXh0IiwiYXRyaWJ1dG9zIiwibGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJpbnB1dCIsImZvckVhY2giLCJhdHJpYnV0byIsImNhbXBvIiwibmFtZSIsImNvbXB1dGVyIiwidHlwZSIsInBsYXllck9iaiIsInVzZWRDb29yZGluYXRlcyIsInJhbmROdW1iZXIiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kQ29vcmRpbmF0ZXMiLCJlcXVhbENvb3JzIiwiYSIsImIiLCJpblJhbmdlIiwieCIsInJhbmdlIiwibWFrZU1vdmUiLCJsYXN0V2FzSGl0IiwidHJpZWRYIiwidHJpZWRZIiwieEF4aXMiLCJsYXN0Q29vcnMiLCJ5Iiwic29tZSIsImMiLCJwdXNoIiwiY29vcnMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZ2V0IiwiZ2FtZWJvYXJkIiwiY2xlYXIiLCJpIiwiYXJyIiwiaiIsIm9iaiIsInNoaXAiLCJzaGlwUG9zaXRpb24iLCJoYXNTaGlwIiwiYXR0YWNrZWQiLCJoaXQiLCJhZGRTaGlwIiwiY29vcmRpbmF0ZXMiLCJob3Jpem9udGFsbHkiLCJib2FyZCIsInJlY2VpdmVBdHRhY2siLCJzcCIsImFsbFNoaXBzU3Vua2VkIiwic2l6ZSIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwic3VuayIsInNlY3Rpb25zQWN0aXZlIiwicG9zaXRpb24iLCJpc1N1bmsiLCJzZWN0aW9ucyIsImNvbnRldWRvRGl2IiwidGFiSWQiLCJkaXYiLCJpY29uZSIsImxpbmhhcyIsInRhYnVsZWlybyIsIm5vbWVQcm94IiwicHJveFRlbGEiLCJoMiIsImJ0bkNvbnRpbnVhciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWN0aW9uIiwibm9tZVZlbmNlZG9yIiwiYnRuSm9nYXJEZW5vdm8iLCJ0ZWxhSm9nYXIiLCJqb2dhZG9yZXMiLCJ0YWJ1bGVpcm9zIiwiZm9pQWNlcnRvIiwiamFKb2dvdSIsInRhYk9wb25lbnRlIiwidGFiUGVzc29hbCIsImNvZGUiLCJyZXZlcnNlIiwicDEiLCJwMiIsImRpdlRhYjEiLCJkaXZUYWIyIiwidGFyZ2V0Iiwic3BsaXQiLCJBdWRpbyIsImRpc3Bhcm8iLCJwbGF5IiwiYXRhcXVlIiwiY29tZW1vcmFjYW8iLCJqb2dhZGEiLCJ0cmlzdGUiLCJ0ZWxhUG9zaWNpb25hckJhcmNvcyIsInRhYjEiLCJ0YWIyIiwibmF2aW9zIiwiaW5kZXhOYXZpb3MiLCJpbmRleCIsImgiLCJlcnIiLCJhZGljaW9uYXJOYXZpb3NQQyIsInQxIiwibWVuc2FnZW5zRXJybyIsImVsZW1lbnRvIiwibm92YU1lbnNhZ2VtIiwibWVuc2FnZW0iLCJtc2ciLCJmZWNoYXIiLCJzdHlsZSIsImRpc3BsYXkiLCJlbWJhcmNhY2FvIiwidG9VcHBlckNhc2UiLCJmb3JtIiwibGluaGEiLCJjb2x1bmEiLCJ2ZXJ0aWNhbElucHV0IiwibGFiZWxWZXJ0aWNhbCIsInZlcnRpY2FsIiwiYnRuU3VibWl0IiwiZGl2Rm9ybSIsInByZXZlbnREZWZhdWx0IiwiaW5kZXhPZiIsInZhbHVlIiwiY2hlY2tlZCIsInJlc2V0IiwiZm9jdXMiLCJ0ZXN0IiwidGVsYVBvc2ljaW9uYXIiLCJvcG9uZW50ZVBlc3NvYSIsInRpdHVsb0Zvcm0iLCJjYW1wb05vbWUiLCJjYW1wb05vbWUyIiwiajEiLCJub21lIiwiajIiLCJub21lMiIsImgzIiwiZm9ybUpvZ2Fkb3IiLCJwUEMiLCJwUGVzc29hIiwiaWNvbmVSb2JvIiwiaWNvbmVQZXNzb2EiLCJlc2NvbGhhUEMiLCJlc2NvbGhhUGVzc29hIiwiZXNjb2xoYXMiLCJhdWRpbyIsImxvb3AiLCJidG5BdWRpbyIsImNvbnRhaW5zIiwicGF1c2UiLCJ0b2dnbGUiXSwic291cmNlUm9vdCI6IiJ9